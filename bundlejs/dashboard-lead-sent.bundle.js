"use strict";function InitPtaLeadSentTableRow(a){Site.MomentTime(),Site.BindingSelectAutoSubmit(),CheckboxTreeView.Init();for(var e=document.querySelectorAll(a),t=0;t<e.length;t++){var n=e[t],i=n.querySelector("[data-agent-id]");i&&i.addEventListener("click",function(a){var e=document.getElementById("formShowContactLazy"),t=e.querySelector("[name=AgentId]"),n=e.querySelector("[type=submit]");t.value=a.target.dataset.agentId,n.click(),console.log("click")})}}!function(a){function e(a,e){for(var t=window,n=(a||"").split(".");t&&n.length;)t=t[n.shift()];return"function"==typeof t?t:(e.push(a),Function.constructor.apply(null,e))}function t(a){return"GET"===a||"POST"===a}function n(a,e){t(e)||a.setRequestHeader("X-HTTP-Method-Override",e)}function i(e,t,n){var i;t&&void 0!==t.isUpdateLayout&&!t.isUpdateLayout||n.indexOf("application/x-javascript")===-1&&(i=(e.getAttribute("data-ajax-mode")||"").toUpperCase(),a(e.getAttribute("data-ajax-update")).each(function(e,n){var o;switch(i){case"BEFORE":o=n.firstChild,a("<div />").html(t).contents().each(function(){n.insertBefore(this,o)});break;case"AFTER":a("<div />").html(t).contents().each(function(){n.appendChild(this)});break;case"REPLACE-WITH":a(n).replaceWith(t);break;default:a(n).html(t)}}))}function o(o,r){var g,c,s,l;g=o.getAttribute("data-ajax-confirm"),g&&!window.confirm(g)||(c=a(o.getAttribute("data-ajax-loading")),l=parseInt(o.getAttribute("data-ajax-loading-duration"),10)||0,a.extend(r,{type:o.getAttribute("data-ajax-method")||void 0,url:o.getAttribute("data-ajax-url")||void 0,cache:!!o.getAttribute("data-ajax-cache"),beforeSend:function(a){var t;return n(a,s),t=e(o.getAttribute("data-ajax-begin"),["xhr"]).apply(o,arguments),t!==!1&&c.show(l),t},complete:function(){c.hide(l),e(o.getAttribute("data-ajax-complete"),["xhr","status"]).apply(o,arguments),console.log("complete")},success:function(a,t,n){i(o,a,n.getResponseHeader("Content-Type")||"text/html"),e(o.getAttribute("data-ajax-success"),["data","status","xhr"]).apply(o,arguments),console.log("success")},error:function(){e(o.getAttribute("data-ajax-failure"),["xhr","status","error"]).apply(o,arguments),console.log("error")}}),r.data.push({name:"X-Requested-With",value:"XMLHttpRequest"}),s=r.type.toUpperCase(),t(s)||(r.type="POST",r.data.push({name:"X-HTTP-Method-Override",value:s})),a.ajax(r))}function r(e){var t=a(e).data(s);return!t||!t.validate||t.validate()}var g="unobtrusiveAjaxClick",c="unobtrusiveAjaxClickTarget",s="unobtrusiveValidation";a(document).on("click","a[data-ajax=true]",function(a){a.preventDefault(),o(this,{url:this.href,type:"GET",data:[]})}),a(document).on("click","form[data-ajax=true] input[type=image]",function(e){var t=e.target.name,n=a(e.target),i=a(n.parents("form")[0]),o=n.offset();i.data(g,[{name:t+".x",value:Math.round(e.pageX-o.left)},{name:t+".y",value:Math.round(e.pageY-o.top)}]),setTimeout(function(){i.removeData(g)},0)}),a(document).on("click","form[data-ajax=true] :submit",function(e){var t=e.currentTarget.name,n=a(e.target),i=a(n.parents("form")[0]);i.data(g,t?[{name:t,value:e.currentTarget.value}]:[]),i.data(c,n),setTimeout(function(){i.removeData(g),i.removeData(c)},0)}),a(document).on("submit","form[data-ajax=true]",function(e){var t=a(this).data(g)||[],n=a(this).data(c),i=n&&n.hasClass("cancel");e.preventDefault(),(i||r(this))&&o(this,{url:this.action,type:this.method||"GET",data:t.concat(a(this).serializeArray())})})}(jQuery);var Pagination={code:"",Extend:function(a){a=a||{},Pagination.size=a.size?parseInt(a.size):0,Pagination.page=a.page?parseInt(a.page):0,Pagination.step=a.step?parseInt(a.step):0,Pagination.tagName=a.tagName||"a",Pagination.attribute=a.attribute||"",Pagination.hrefToken=a.hrefToken||"",Pagination.showValue=!!a.showValue||!1,Pagination.submitFromAttributes=null!=a.form?'form="'+a.form+'" type=submit name="PageNumber"':"",Pagination.hover=a.hover||"",Pagination.itemClassName="",a.hover&&(Pagination.itemClassName+=" class='hover-tooltip' ")},Add:function(a,e){for(var t=a;t<e;t++){var n=Pagination.hrefToken?'href="'+Pagination.hrefToken.replace("{PAGE}",t)+'"':"",i=Pagination.showValue?'value="'+t+'"':"",o=Pagination.hover?"<span class='tooltip top'>"+Pagination.hover.replace("{PAGE}",t)+"</span>":"";Pagination.code+="<li"+Pagination.itemClassName+"><"+Pagination.tagName+" "+Pagination.submitFromAttributes+" "+n+" "+i+" "+Pagination.attribute+"data-value="+t+" >"+t+"</"+Pagination.tagName+">"+o+"</li>"}},Last:function(){var a=Pagination.hrefToken?'href="'+Pagination.hrefToken.replace("{PAGE}",Pagination.size>1?Pagination.size:1)+'"':"",e=Pagination.showValue?'value="'+(Pagination.size>1?Pagination.size:1)+'"':"",t=Pagination.hover?"<span class='tooltip top'>"+Pagination.hover.replace("{PAGE}",Pagination.size>1?Pagination.size:1)+"</span>":"";Pagination.code+="<i>...</i><li data-last "+Pagination.itemClassName+" ><"+Pagination.tagName+" "+Pagination.submitFromAttributes+" "+a+" "+e+" "+Pagination.attribute+"data-value="+Pagination.size+">"+Pagination.size+"</"+Pagination.tagName+">"+t+"</li>"},First:function(){var a=Pagination.hrefToken?'href="'+Pagination.hrefToken.replace("{PAGE}",1)+'"':"",e=Pagination.showValue?'value="1"':"",t=Pagination.hover?"<span class='tooltip top'>"+Pagination.hover.replace("{PAGE}",1)+"</span>":"";Pagination.code+="<li data-first "+Pagination.itemClassName+"><"+Pagination.tagName+" "+Pagination.submitFromAttributes+" "+a+" "+e+" "+Pagination.attribute+" data-value=1>1</"+Pagination.tagName+">"+t+"</li><i>...</i>"},Click:function(){Pagination.page=+this.innerHTML,Pagination.Start()},Prev:function(){Pagination.page--,Pagination.page<1&&(Pagination.page=1),Pagination.Start()},Next:function(){Pagination.page++,Pagination.page>Pagination.size&&(Pagination.page=Pagination.size),Pagination.Start()},Bind:function(){for(var a=Pagination.e.getElementsByTagName(Pagination.tagName),e=0;e<a.length;e++)+a[e].innerHTML===Pagination.page&&(a[e].parentElement.className="current"),Pagination.submitFromAttributes||a[e].addEventListener("click",Pagination.Click,!1)},Finish:function(){Pagination.e.innerHTML=Pagination.code,Pagination.code="",Pagination.Bind()},Start:function(){Pagination.size<2*Pagination.step+6?Pagination.Add(1,Pagination.size+1):Pagination.page<2*Pagination.step+1?(Pagination.Add(1,2*Pagination.step+4),Pagination.Last()):Pagination.page>Pagination.size-2*Pagination.step?(Pagination.First(),Pagination.Add(Pagination.size-2*Pagination.step-2,Pagination.size+1)):(Pagination.First(),Pagination.Add(Pagination.page-Pagination.step,Pagination.page+Pagination.step+1),Pagination.Last()),Pagination.Finish()},Buttons:function(a){var e=a.getElementsByTagName(Pagination.tagName);e[0].addEventListener("click",Pagination.Prev,!1),e[1].addEventListener("click",Pagination.Next,!1)},Create:function(a){var e=Pagination.hrefToken?'href="'+Pagination.hrefToken.replace("{PAGE}",Pagination.page>1?Pagination.page-1:1)+'"':"",t=Pagination.hrefToken?'href="'+Pagination.hrefToken.replace("{PAGE}",Pagination.size>Pagination.page?Pagination.page+1:Pagination.size)+'"':"",n=Pagination.showValue?'value="'+(Pagination.page>1?Pagination.page-1:1)+'"':"",i=Pagination.showValue?'value="'+(Pagination.page>1?Pagination.page-1:1)+'"':"",o=["<li"+Pagination.itemClassName+"><"+Pagination.tagName+' class="pre" '+Pagination.submitFromAttributes+" "+n+" "+Pagination.attribute+" "+e+" data-value="+(Pagination.page>1?Pagination.page:1)+" >&#9668;</"+Pagination.tagName+"></li>","<span></span>","<li"+Pagination.itemClassName+"><"+Pagination.tagName+' class="next" '+Pagination.submitFromAttributes+" "+i+" "+Pagination.attribute+" "+t+" data-value="+(Pagination.size>Pagination.page?Pagination.page+1:Pagination.size)+" >&#9658;</"+Pagination.tagName+"></li>"];a.innerHTML=o.join(""),Pagination.e=a.getElementsByTagName("span")[0],Pagination.Buttons(a)},Init:function(a,e){Pagination.Extend(e),Pagination.Create(a),Pagination.Start()},Run:function(){for(var a=document.getElementsByClassName("_p-gination"),e=0;e<a.length;e++){var t=a[e];Pagination.Init(t,t.dataset)}}};document.addEventListener("DOMContentLoaded",Pagination.Run(),!1);var CheckboxTreeView={Process:function(){for(var a=document.querySelectorAll("[data-tree-parent-id]"),e=0;e<a.length;e++){var t=document.getElementById(a[e].dataset.treeParentId),n=Site.FindParent(t,"_nodeContainer");t.checked=!n.querySelector("[data-tree-parent-id]:not(:checked)"),t.addEventListener("change",function(a){for(var e=Site.FindParent(a.target,"_nodeContainer"),t=e.querySelectorAll("[data-tree-parent-id]"),n=[],i=0;i<t.length;i++)t[i].checked=a.target.checked,t[i].checked&&n.push(t[i].value);CheckboxTreeView.CheckAllCallBack&&n.length>0?CheckboxTreeView.CheckAllCallBack(n):CheckboxTreeView.CheckAllCallBack&&0===n.length&&CheckboxTreeView.CheckNoneCallBack()}),a[e].addEventListener("change",function(a){var e=document.getElementById(a.target.dataset.treeParentId),t=Site.FindParent(e,"_nodeContainer");if(e&&t){for(var n=t.querySelectorAll("[data-tree-parent-id]"),i=!0,o=!1,r=[],g=0;g<n.length;g++)i=i&&n[g].checked,o=o||n[g].checked,n[g].checked&&r.push(n[g].value);o?i?(e.checked=!0,CheckboxTreeView.CheckAllCallBack&&CheckboxTreeView.CheckAllCallBack(r)):(e.checked=!1,e.indeterminate=CheckboxTreeView.EnableIndeterminate,CheckboxTreeView.CheckManyCallback&&CheckboxTreeView.CheckManyCallback(r)):(e.checked=!1,CheckboxTreeView.CheckNoneCallBack&&CheckboxTreeView.CheckNoneCallBack())}})}},Init:function(a,e,t,n){CheckboxTreeView.EnableIndeterminate=!!a,CheckboxTreeView.CheckAllCallBack=e,CheckboxTreeView.CheckNoneCallBack=t,CheckboxTreeView.CheckManyCallback=n,CheckboxTreeView.Process()}};document.addEventListener("DOMContentLoaded",function(){console.log("Load Partial")}),document.addEventListener("DOMContentLoaded",function(){InitPtaLeadSentTableRow("#tbMyLeads tbody tr"),Pagination.Run()});