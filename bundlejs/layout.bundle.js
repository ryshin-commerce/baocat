"use strict";function removeDiacritics(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return diacriticsMap[e]||e})}function replaceNotWord(e){return e.replace(/[^A-Za-z0-9\s]/g,"")}function allTitleCase(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}function stringToValidArray(e){var t=e.replace(pattern,function(e,t,i){return unsignedChars.charAt(signedChars.indexOf(e))});return t=t.replace(/[.-]/g,"").replace(/,\s+/g,",").replace(/\s+/g,"-"),t.split(",")}function preventDefault(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.returnValue=!1}function preventDefaultForScrollKeys(e){if(keys[e.keyCode])return preventDefault(e),!1}function reponsiveMenu(){var e=document.getElementsByTagName("body")[0],t=document.getElementsByClassName("navbar")[0],i=t.getElementsByClassName("brand")[0],n=Site.HtmlToElement("<a class='menu-open hide tablet-show' style='z-index:2; position: absolute; top: 10px; left: 15px; font-size: 23px;' href='#'><i class='fa fa-bars text-white text-strong _text-shadow-1'></i></a>"),o=Site.HtmlToElement("<a class='hide tablet-show menu-close padding-h-5 ' style='position: absolute; top: 10px; right: 15px; font-size: 26px; width:30px;text-align: right;'  href='#'><i class='fa fa-angle-left text-white text-strong _text-shadow-1'></i></a>");e.insertBefore(n[0],e.firstChild),i.appendChild(o[0]);var s=document.querySelector(".menu-open"),r=document.querySelector(".menu-close"),a=document.getElementById("chkShowHideSearchBar");s.addEventListener("click",function(e){document.getElementsByTagName("body")[0].classList.add("overflow-hidden"),s.classList.add("open")}),r.addEventListener("click",function(){var e=document.getElementsByClassName("menu-open")[0];e.classList.remove("open"),a&&!a.checked&&document.getElementsByTagName("body")[0].classList.remove("overflow-hidden")}),a&&a.addEventListener("change",function(e){e.target.checked?document.getElementsByTagName("body")[0].classList.add("overflow-hidden"):document.getElementsByTagName("body")[0].classList.remove("overflow-hidden")})}function reponsiveMenu1(){var e=document.querySelector(".menu-open"),t=document.querySelector(".menu-close"),i=document.getElementById("chkShowHideSearchBar");e.addEventListener("click",function(t){document.getElementsByTagName("body")[0].classList.add("overflow-hidden"),e.classList.add("open")}),t.addEventListener("click",function(){var e=document.getElementsByClassName("menu-open")[0];e.classList.remove("open"),i&&!i.checked&&document.getElementsByTagName("body")[0].classList.remove("overflow-hidden")}),i&&i.addEventListener("change",function(e){e.target.checked?document.getElementsByTagName("body")[0].classList.add("overflow-hidden"):document.getElementsByTagName("body")[0].classList.remove("overflow-hidden")})}function BcFuzzySearch(){this.ele=null,this.shadowElement=null,this.bindingDataCompleteCallBack=function(){console.log("bindingDataCompleteCallBack doesn't define")},this.selectionCallback=function(){console.log("selectionCallback doesn't define")},this.bindingDataFailedCallback=function(){console.log("bindingDataFailed doesn't define")},this.LocalStogeEnum=null,this.eleDefaultValue="",this.jsonValueField="",this.selectedValue=null,this.selectedText=null,this.jsonDataField=null,this.fuzzyhound=null,this.minText=3,this.Extend=function(e,t,i,n,o,s,r,a,l,c,u,h,d){this.ele=e,this.shadowElement=n,this.jsonDataField=o,this.jsonValueField=s,this.bindingDataCompleteCallBack=a||function(){console.log("bindingDataCompleteCallBack doesn't define")},this.selectionCallback=c||function(){console.log("selectionCallback doesn't define")},this.selectedValue=t,this.selectedText=i||e.value,this.minText=h||3,this.fuzzyhound=new FuzzySearch({output_limit:u||6,output_map:"alias"}),this.bindingDataFailedCallback=l||function(){console.log("bindingDataFailed doesn't define")},this.localStogeEnum=r,this.propTypes=d},this.GetPlaceDetail=function(e,t){var i={placeId:+e};AjaxRequest.SendRequestGetJson("POST","/PublicPlaces/GetPlaceDetail",i,function(e,i){t(e,i)})},this.Process=function(){var e=this;if(!this.ele||!this.jsonDataField||!this.localStogeEnum)return void console.log("ele or jsonDataField or LocalStorageHelper is null");this.ele.value=this.selectedText,$(this.ele).autocomplete({minLength:e.minText,minimum_match:2,delay:0,source:function(t,i){var n=e.fuzzyhound.search(t.term),o=[];n.forEach(function(e){o.push({address:e.address,id:e.id})}),i(o)},change:function(t,i){e.selectedValue=null,e.selectedText="",console.log("change"),e.shadowElement&&(e.shadowElement.value="")},focus:function(t,i){e.selectedValue=null,e.selectedText="",console.log("forcus"),e.shadowElement&&(e.shadowElement.value="")},select:function(t,i){var n=document.getElementsByClassName("ui-state-active");if(n){var o=n[0].dataset.value;e.selectionCallback&&e.selectionCallback(t,i,o),e.selectedValue=o,e.selectedText=i.item.display,e.shadowElement&&(e.shadowElement.value=o)}},search:function(t,i){e.selectedValue=null,e.selectedText="",e.shadowElement&&(e.shadowElement.value="",console.log(e.shadowElement.value))},response:function(e,t){}});var t=$(this.ele).autocomplete("instance");t._renderItem=function(t,i){return $("<li>").append(e._itemTemplate(i)).appendTo(t)},t._renderMenu=function(t,i){for(var n=i.length,o=-1;++o<n;){var s=i[o][e.jsonDataField];this._renderItem(t,i[o]).data("ui-autocomplete-item",{display:s,value:s})}};var i=LocalStorageHelper.Get(LocalStogeEnum.ALL_PLACES);if(i&&0!==i.length){var n=i;e.propTypes&&e.propTypes.length>0&&(n=i.filter(function(t){return e.propTypes.includes(t.propertyType)})),e.fuzzyhound.setOptions({source:n,keys:[e.jsonDataField,"id"]}),e.bindingDataCompleteCallBack()}else AjaxRequest.SendRequestGetJson("GET","/PublicPlaces/GetAll",null,function(t,i){if(200===+i){LocalStorageHelper.Save(LocalStogeEnum.ALL_PLACES,JSON.parse(t));var n=JSON.parse(t);n=n.filter(function(e){return e}),e.fuzzyhound.setOptions({source:JSON.parse(t),keys:[e.jsonDataField]}),e.bindingDataCompleteCallBack(t,i)}else e.bindingDataFailedCallback(t,i)})},this._footerTemplate=function(){var e=Date.now();return"<div class='typeahead-footer'> Search took <strong>"+this.fuzzyhound.search_time.toFixed(3)+" ms</strong><br>Total (search+highlight+render):  <strong>"+(e-this.fuzzyhound.start_time).toFixed(3)+" ms</strong><br>Query: <strong>"+this.fuzzyhound.query.normalized.length+"</strong> chars <br>Source contain "+this.fuzzyhound.source.length+" Items<br></div>"},this._itemTemplate=function(e){return["<div data-value='"+e[this.jsonValueField]+"'>","<span class='title'>",this.fuzzyhound.highlight(e[this.jsonDataField],this.jsonDataField),"</span>","</div>"].join("")},this.Init=function(e,t,i,n,o,s,r,a,l,c,u,h,d){var p=document.querySelector(e),f=document.querySelector(c);this.Extend(p,t,i,f,n,o,s,r,a,l,u,h,d),this.Process()}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"function"==typeof define&&define.amd?define("pnotify",["jquery"],function(i){return t(i,e)}):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t(require("jquery"),global||e):e.PNotify=t(e.jQuery,e)}("undefined"!=typeof window?window:void 0,function(e,t){var i=function t(i){var n,o,s={dir1:"down",dir2:"left",push:"bottom",spacing1:36,spacing2:36,context:e("body"),modal:!1},r=e(i),a=function(){o=e("body"),c.prototype.options.stack.context=o,r=e(i),r.bind("resize",function(){n&&clearTimeout(n),n=setTimeout(function(){c.positionAll(!0)},10)})},l=function(t){var i=e("<div />",{class:"ui-pnotify-modal-overlay"});return i.prependTo(t.context),t.overlay_close&&i.click(function(){c.removeStack(t)}),i},c=function(e){this.state="initializing",this.timer=null,this.animTimer=null,this.styles=null,this.elem=null,this.container=null,this.title_container=null,this.text_container=null,this.animating=!1,this.timerHide=!1,this.parseOptions(e),this.init()};return e.extend(c.prototype,{version:"3.2.0",options:{title:!1,title_escape:!1,text:!1,text_escape:!1,styling:"brighttheme",addclass:"",cornerclass:"",auto_display:!0,width:"300px",min_height:"16px",type:"notice",icon:!0,animation:"fade",animate_speed:"normal",shadow:!0,hide:!0,delay:8e3,mouse_reset:!0,remove:!0,insert_brs:!0,destroy:!0,stack:s},modules:{},runModules:function(e,t){var i;for(var n in this.modules)i="object"===("undefined"==typeof t?"undefined":_typeof(t))&&n in t?t[n]:t,"function"==typeof this.modules[n][e]&&(this.modules[n].notice=this,this.modules[n].options="object"===_typeof(this.options[n])?this.options[n]:{},this.modules[n][e](this,"object"===_typeof(this.options[n])?this.options[n]:{},i))},init:function(){var t=this;return this.modules={},e.extend(!0,this.modules,c.prototype.modules),"object"===_typeof(this.options.styling)?this.styles=this.options.styling:this.styles=c.styling[this.options.styling],this.elem=e("<div />",{class:"ui-pnotify "+this.options.addclass,css:{display:"none"},"aria-live":"assertive","aria-role":"alertdialog",mouseenter:function(e){if(t.options.mouse_reset&&"out"===t.animating){if(!t.timerHide)return;t.cancelRemove()}t.options.hide&&t.options.mouse_reset&&t.cancelRemove()},mouseleave:function(e){t.options.hide&&t.options.mouse_reset&&"out"!==t.animating&&t.queueRemove(),c.positionAll()}}),"fade"===this.options.animation&&this.elem.addClass("ui-pnotify-fade-"+this.options.animate_speed),this.container=e("<div />",{class:this.styles.container+" ui-pnotify-container "+("error"===this.options.type?this.styles.error:"info"===this.options.type?this.styles.info:"success"===this.options.type?this.styles.success:this.styles.notice),role:"alert"}).appendTo(this.elem),""!==this.options.cornerclass&&this.container.removeClass("ui-corner-all").addClass(this.options.cornerclass),this.options.shadow&&this.container.addClass("ui-pnotify-shadow"),this.options.icon!==!1&&e("<div />",{class:"ui-pnotify-icon"}).append(e("<span />",{class:this.options.icon===!0?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container),this.title_container=e("<h4 />",{class:"ui-pnotify-title"}).appendTo(this.container),this.options.title===!1?this.title_container.hide():this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),this.text_container=e("<div />",{class:"ui-pnotify-text","aria-role":"alert"}).appendTo(this.container),this.options.text===!1?this.text_container.hide():this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),"string"==typeof this.options.width&&this.elem.css("width",this.options.width),"string"==typeof this.options.min_height&&this.container.css("min-height",this.options.min_height),"top"===this.options.stack.push?c.notices=e.merge([this],c.notices):c.notices=e.merge(c.notices,[this]),"top"===this.options.stack.push&&this.queuePosition(!1,1),this.options.stack.animation=!1,this.runModules("init"),this.state="closed",this.options.auto_display&&this.open(),this},update:function(t){var i=this.options;return this.parseOptions(i,t),this.elem.removeClass("ui-pnotify-fade-slow ui-pnotify-fade-normal ui-pnotify-fade-fast"),"fade"===this.options.animation&&this.elem.addClass("ui-pnotify-fade-"+this.options.animate_speed),this.options.cornerclass!==i.cornerclass&&this.container.removeClass("ui-corner-all "+i.cornerclass).addClass(this.options.cornerclass),this.options.shadow!==i.shadow&&(this.options.shadow?this.container.addClass("ui-pnotify-shadow"):this.container.removeClass("ui-pnotify-shadow")),this.options.addclass===!1?this.elem.removeClass(i.addclass):this.options.addclass!==i.addclass&&this.elem.removeClass(i.addclass).addClass(this.options.addclass),this.options.title===!1?this.title_container.slideUp("fast"):this.options.title!==i.title&&(this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),i.title===!1&&this.title_container.slideDown(200)),this.options.text===!1?this.text_container.slideUp("fast"):this.options.text!==i.text&&(this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),i.text===!1&&this.text_container.slideDown(200)),this.options.type!==i.type&&this.container.removeClass(this.styles.error+" "+this.styles.notice+" "+this.styles.success+" "+this.styles.info).addClass("error"===this.options.type?this.styles.error:"info"===this.options.type?this.styles.info:"success"===this.options.type?this.styles.success:this.styles.notice),(this.options.icon!==i.icon||this.options.icon===!0&&this.options.type!==i.type)&&(this.container.find("div.ui-pnotify-icon").remove(),this.options.icon!==!1&&e("<div />",{class:"ui-pnotify-icon"}).append(e("<span />",{class:this.options.icon===!0?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container)),this.options.width!==i.width&&this.elem.animate({width:this.options.width}),this.options.min_height!==i.min_height&&this.container.animate({minHeight:this.options.min_height}),this.options.hide?i.hide||this.queueRemove():this.cancelRemove(),this.queuePosition(!0),this.runModules("update",i),this},open:function(){this.state="opening",this.runModules("beforeOpen");var e=this;return this.elem.parent().length||this.elem.appendTo(this.options.stack.context?this.options.stack.context:o),"top"!==this.options.stack.push&&this.position(!0),this.animateIn(function(){e.queuePosition(!0),e.options.hide&&e.queueRemove(),e.state="open",e.runModules("afterOpen")}),this},remove:function(t){this.state="closing",this.timerHide=!!t,this.runModules("beforeClose");var n=this;return this.timer&&(i.clearTimeout(this.timer),this.timer=null),this.animateOut(function(){if(n.state="closed",n.runModules("afterClose"),n.queuePosition(!0),n.options.remove&&n.elem.detach(),n.runModules("beforeDestroy"),n.options.destroy&&null!==c.notices){var t=e.inArray(n,c.notices);t!==-1&&c.notices.splice(t,1)}n.runModules("afterDestroy")}),this},get:function(){return this.elem},parseOptions:function(t,i){this.options=e.extend(!0,{},c.prototype.options),this.options.stack=c.prototype.options.stack;for(var n,o=[t,i],s=0;s<o.length&&(n=o[s],"undefined"!=typeof n);s++)if("object"!==("undefined"==typeof n?"undefined":_typeof(n)))this.options.text=n;else for(var r in n)this.modules[r]?e.extend(!0,this.options[r],n[r]):this.options[r]=n[r]},animateIn:function(e){this.animating="in";var t=this,i=function i(){t.animTimer&&clearTimeout(t.animTimer),"in"===t.animating&&(t.elem.is(":visible")?(e&&e.call(),t.animating=!1):t.animTimer=setTimeout(i,40))};"fade"===this.options.animation?(this.elem.one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd oTransitionEnd transitionend",i).addClass("ui-pnotify-in"),this.elem.css("opacity"),this.elem.addClass("ui-pnotify-fade-in"),this.animTimer=setTimeout(i,650)):(this.elem.addClass("ui-pnotify-in"),i())},animateOut:function(t){this.animating="out";var i=this,n=function n(){if(i.animTimer&&clearTimeout(i.animTimer),"out"===i.animating)if("0"!=i.elem.css("opacity")&&i.elem.is(":visible"))i.animTimer=setTimeout(n,40);else{if(i.elem.removeClass("ui-pnotify-in"),i.options.stack.overlay){var o=!1;e.each(c.notices,function(e,t){t!=i&&t.options.stack===i.options.stack&&"closed"!=t.state&&(o=!0)}),o||i.options.stack.overlay.hide()}t&&t.call(),i.animating=!1}};"fade"===this.options.animation?(this.elem.one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd oTransitionEnd transitionend",n).removeClass("ui-pnotify-fade-in"),this.animTimer=setTimeout(n,650)):(this.elem.removeClass("ui-pnotify-in"),n())},position:function(e){var t=this.options.stack,i=this.elem;if("undefined"==typeof t.context&&(t.context=o),t){"number"!=typeof t.nextpos1&&(t.nextpos1=t.firstpos1),"number"!=typeof t.nextpos2&&(t.nextpos2=t.firstpos2),"number"!=typeof t.addpos2&&(t.addpos2=0);var n=!i.hasClass("ui-pnotify-in");if(!n||e){t.modal&&(t.overlay?t.overlay.show():t.overlay=l(t)),i.addClass("ui-pnotify-move");var s,a,c;switch(t.dir1){case"down":c="top";break;case"up":c="bottom";break;case"left":c="right";break;case"right":c="left"}s=parseInt(i.css(c).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(s)&&(s=0),"undefined"!=typeof t.firstpos1||n||(t.firstpos1=s,t.nextpos1=t.firstpos1);var u;switch(t.dir2){case"down":u="top";break;case"up":u="bottom";break;case"left":u="right";break;case"right":u="left"}switch(a=parseInt(i.css(u).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(a)&&(a=0),"undefined"!=typeof t.firstpos2||n||(t.firstpos2=a,t.nextpos2=t.firstpos2),("down"===t.dir1&&t.nextpos1+i.height()>(t.context.is(o)?r.height():t.context.prop("scrollHeight"))||"up"===t.dir1&&t.nextpos1+i.height()>(t.context.is(o)?r.height():t.context.prop("scrollHeight"))||"left"===t.dir1&&t.nextpos1+i.width()>(t.context.is(o)?r.width():t.context.prop("scrollWidth"))||"right"===t.dir1&&t.nextpos1+i.width()>(t.context.is(o)?r.width():t.context.prop("scrollWidth")))&&(t.nextpos1=t.firstpos1,t.nextpos2+=t.addpos2+("undefined"==typeof t.spacing2?25:t.spacing2),t.addpos2=0),"number"==typeof t.nextpos2&&(t.animation?i.css(u,t.nextpos2+"px"):(i.removeClass("ui-pnotify-move"),i.css(u,t.nextpos2+"px"),i.css(u),i.addClass("ui-pnotify-move"))),t.dir2){case"down":case"up":i.outerHeight(!0)>t.addpos2&&(t.addpos2=i.height());break;case"left":case"right":i.outerWidth(!0)>t.addpos2&&(t.addpos2=i.width())}switch("number"==typeof t.nextpos1&&(t.animation?i.css(c,t.nextpos1+"px"):(i.removeClass("ui-pnotify-move"),i.css(c,t.nextpos1+"px"),i.css(c),i.addClass("ui-pnotify-move"))),t.dir1){case"down":case"up":t.nextpos1+=i.height()+("undefined"==typeof t.spacing1?25:t.spacing1);break;case"left":case"right":t.nextpos1+=i.width()+("undefined"==typeof t.spacing1?25:t.spacing1)}}return this}},queuePosition:function(e,t){return n&&clearTimeout(n),t||(t=10),n=setTimeout(function(){c.positionAll(e)},t),this},cancelRemove:function(){return this.timer&&i.clearTimeout(this.timer),this.animTimer&&i.clearTimeout(this.animTimer),"closing"===this.state&&(this.state="open",this.animating=!1,this.elem.addClass("ui-pnotify-in"),"fade"===this.options.animation&&this.elem.addClass("ui-pnotify-fade-in")),this},queueRemove:function(){var e=this;return this.cancelRemove(),this.timer=i.setTimeout(function(){e.remove(!0)},isNaN(this.options.delay)?0:this.options.delay),this}}),e.extend(c,{notices:[],reload:t,removeAll:function(){e.each(c.notices,function(e,t){t.remove&&t.remove(!1)})},removeStack:function(t){e.each(c.notices,function(e,i){i.remove&&i.options.stack===t&&i.remove(!1)})},positionAll:function(t){if(n&&clearTimeout(n),n=null,c.notices&&c.notices.length)e.each(c.notices,function(e,i){var n=i.options.stack;n&&(n.overlay&&n.overlay.hide(),n.nextpos1=n.firstpos1,n.nextpos2=n.firstpos2,n.addpos2=0,n.animation=t)}),e.each(c.notices,function(e,t){t.position()});else{var i=c.prototype.options.stack;i&&(delete i.nextpos1,delete i.nextpos2)}},styling:{brighttheme:{container:"brighttheme",notice:"brighttheme-notice",notice_icon:"brighttheme-icon-notice",info:"brighttheme-info",info_icon:"brighttheme-icon-info",success:"brighttheme-success",success_icon:"brighttheme-icon-success",error:"brighttheme-error",error_icon:"brighttheme-icon-error"},bootstrap3:{container:"alert",notice:"alert-warning",notice_icon:"glyphicon glyphicon-exclamation-sign",info:"alert-info",info_icon:"glyphicon glyphicon-info-sign",success:"alert-success",success_icon:"glyphicon glyphicon-ok-sign",error:"alert-danger",error_icon:"glyphicon glyphicon-warning-sign"}}}),c.styling.fontawesome=e.extend({},c.styling.bootstrap3),e.extend(c.styling.fontawesome,{notice_icon:"fa fa-exclamation-circle",info_icon:"fa fa-info",success_icon:"fa fa-check",error_icon:"fa fa-warning"}),i.document.body?a():e(a),c};return i(t)}),function(e,t){"function"==typeof define&&define.amd?define("pnotify.buttons",["jquery","pnotify"],t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("./pnotify")):t(e.jQuery,e.PNotify)}("undefined"!=typeof window?window:void 0,function(e,t){return t.prototype.options.buttons={closer:!0,closer_hover:!0,sticker:!0,sticker_hover:!0,show_on_nonblock:!1,labels:{close:"Close",stick:"Stick",unstick:"Unstick"},classes:{closer:null,pin_up:null,pin_down:null}},t.prototype.modules.buttons={init:function(t,i){var n=this;t.elem.on({mouseenter:function(e){!n.options.sticker||t.options.nonblock&&t.options.nonblock.nonblock&&!n.options.show_on_nonblock||n.sticker.trigger("pnotify:buttons:toggleStick").css("visibility","visible"),!n.options.closer||t.options.nonblock&&t.options.nonblock.nonblock&&!n.options.show_on_nonblock||n.closer.css("visibility","visible")},mouseleave:function(e){n.options.sticker_hover&&n.sticker.css("visibility","hidden"),n.options.closer_hover&&n.closer.css("visibility","hidden")}}),this.sticker=e("<div />",{class:"ui-pnotify-sticker","aria-role":"button","aria-pressed":t.options.hide?"false":"true",tabindex:"0",title:t.options.hide?i.labels.stick:i.labels.unstick,css:{cursor:"pointer",visibility:i.sticker_hover?"hidden":"visible"},click:function(){t.options.hide=!t.options.hide,t.options.hide?t.queueRemove():t.cancelRemove(),e(this).trigger("pnotify:buttons:toggleStick")}}).bind("pnotify:buttons:toggleStick",function(){var i=null===n.options.classes.pin_up?t.styles.pin_up:n.options.classes.pin_up,o=null===n.options.classes.pin_down?t.styles.pin_down:n.options.classes.pin_down;e(this).attr("title",t.options.hide?n.options.labels.stick:n.options.labels.unstick).children().attr("class","").addClass(t.options.hide?i:o).attr("aria-pressed",t.options.hide?"false":"true")}).append("<span />").trigger("pnotify:buttons:toggleStick").prependTo(t.container),(!i.sticker||t.options.nonblock&&t.options.nonblock.nonblock&&!i.show_on_nonblock)&&this.sticker.css("display","none"),this.closer=e("<div />",{class:"ui-pnotify-closer","aria-role":"button",tabindex:"0",title:i.labels.close,css:{cursor:"pointer",visibility:i.closer_hover?"hidden":"visible"},click:function(){t.remove(!1),n.sticker.css("visibility","hidden"),n.closer.css("visibility","hidden")}}).append(e("<span />",{class:null===i.classes.closer?t.styles.closer:i.classes.closer})).prependTo(t.container),(!i.closer||t.options.nonblock&&t.options.nonblock.nonblock&&!i.show_on_nonblock)&&this.closer.css("display","none")},update:function(e,t){!t.closer||e.options.nonblock&&e.options.nonblock.nonblock&&!t.show_on_nonblock?this.closer.css("display","none"):t.closer&&this.closer.css("display","block"),!t.sticker||e.options.nonblock&&e.options.nonblock.nonblock&&!t.show_on_nonblock?this.sticker.css("display","none"):t.sticker&&this.sticker.css("display","block"),this.sticker.trigger("pnotify:buttons:toggleStick"),this.closer.find("span").attr("class","").addClass(null===t.classes.closer?e.styles.closer:t.classes.closer),t.sticker_hover?this.sticker.css("visibility","hidden"):e.options.nonblock&&e.options.nonblock.nonblock&&!t.show_on_nonblock||this.sticker.css("visibility","visible"),t.closer_hover?this.closer.css("visibility","hidden"):e.options.nonblock&&e.options.nonblock.nonblock&&!t.show_on_nonblock||this.closer.css("visibility","visible")}},e.extend(t.styling.brighttheme,{closer:"brighttheme-icon-closer",pin_up:"brighttheme-icon-sticker",pin_down:"brighttheme-icon-sticker brighttheme-icon-stuck"}),e.extend(t.styling.bootstrap3,{closer:"glyphicon glyphicon-remove",pin_up:"glyphicon glyphicon-pause",pin_down:"glyphicon glyphicon-play"}),e.extend(t.styling.fontawesome,{closer:"fa fa-times",pin_up:"fa fa-pause",pin_down:"fa fa-play"}),t}),function(e,t){"function"==typeof define&&define.amd?define("pnotify.desktop",["jquery","pnotify"],t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("./pnotify")):t(e.jQuery,e.PNotify)}("undefined"!=typeof window?window:void 0,function(e,t){var i,n=function(e,t){return(n="Notification"in window?function(e,t){return new Notification(e,t)}:"mozNotification"in navigator?function(e,t){return navigator.mozNotification.createNotification(e,t.body,t.icon).show()}:"webkitNotifications"in window?function(e,t){return window.webkitNotifications.createNotification(t.icon,e,t.body)}:function(e,t){return null})(e,t)};return t.prototype.options.desktop={desktop:!1,fallback:!0,icon:null,tag:null,title:null,text:null},t.prototype.modules.desktop={genNotice:function(e,t){null===t.icon?this.icon="http://sciactive.com/pnotify/includes/desktop/"+e.options.type+".png":t.icon===!1?this.icon=null:this.icon=t.icon,null!==this.tag&&null===t.tag||(this.tag=null===t.tag?"PNotify-"+Math.round(1e6*Math.random()):t.tag),e.desktop=n(t.title||e.options.title,{icon:this.icon,body:t.text||e.options.text,tag:this.tag}),!("close"in e.desktop)&&"cancel"in e.desktop&&(e.desktop.close=function(){e.desktop.cancel()}),e.desktop.onclick=function(){e.elem.trigger("click")},e.desktop.onclose=function(){"closing"!==e.state&&"closed"!==e.state&&e.remove()}},init:function(e,n){if(n.desktop)return i=t.desktop.checkPermission(),0!==i?void(n.fallback||(e.options.auto_display=!1)):void this.genNotice(e,n)},update:function(e,t,n){0!==i&&t.fallback||!t.desktop||this.genNotice(e,t)},beforeOpen:function(e,t){0!==i&&t.fallback||!t.desktop||e.elem.css({left:"-10000px"}).removeClass("ui-pnotify-in")},afterOpen:function(e,t){0!==i&&t.fallback||!t.desktop||(e.elem.css({left:"-10000px"}).removeClass("ui-pnotify-in"),"show"in e.desktop&&e.desktop.show())},beforeClose:function(e,t){0!==i&&t.fallback||!t.desktop||e.elem.css({left:"-10000px"}).removeClass("ui-pnotify-in")},afterClose:function(e,t){0!==i&&t.fallback||!t.desktop||(e.elem.css({left:"-10000px"}).removeClass("ui-pnotify-in"),"close"in e.desktop&&e.desktop.close())}},t.desktop={permission:function(){"undefined"!=typeof Notification&&"requestPermission"in Notification?Notification.requestPermission():"webkitNotifications"in window&&window.webkitNotifications.requestPermission()},checkPermission:function(){return"undefined"!=typeof Notification&&"permission"in Notification?"granted"===Notification.permission?0:1:"webkitNotifications"in window&&0==window.webkitNotifications.checkPermission()?0:1}},i=t.desktop.checkPermission(),t}),function(e,t){"function"==typeof define&&define.amd?define("pnotify.mobile",["jquery","pnotify"],t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("./pnotify")):t(e.jQuery,e.PNotify)}("undefined"!=typeof window?window:void 0,function(e,t){return t.prototype.options.mobile={swipe_dismiss:!0,styling:!0},t.prototype.modules.mobile={init:function(e,t){var i=this,n=null,o=null,s=null;this.swipe_dismiss=t.swipe_dismiss,this.doMobileStyling(e,t),e.elem.on({touchstart:function(t){i.swipe_dismiss&&(n=t.originalEvent.touches[0].screenX,s=e.elem.width(),e.container.css("left","0"))},touchmove:function(t){if(n&&i.swipe_dismiss){var r=t.originalEvent.touches[0].screenX;o=r-n;var a=(1-Math.abs(o)/s)*e.options.opacity;e.elem.css("opacity",a),e.container.css("left",o)}},touchend:function(){if(n&&i.swipe_dismiss){if(Math.abs(o)>40){var t=o<0?s*-2:2*s;e.elem.animate({opacity:0},100),e.container.animate({left:t},100),e.remove()}else e.elem.animate({opacity:e.options.opacity},100),e.container.animate({left:0},100);n=null,o=null,s=null}},touchcancel:function(){n&&i.swipe_dismiss&&(e.elem.animate({opacity:e.options.opacity},100),e.container.animate({left:0},100),n=null,o=null,s=null)}})},update:function(e,t){this.swipe_dismiss=t.swipe_dismiss,this.doMobileStyling(e,t)},doMobileStyling:function(t,i){i.styling?(t.elem.addClass("ui-pnotify-mobile-able"),e(window).width()<=480?(t.options.stack.mobileOrigSpacing1||(t.options.stack.mobileOrigSpacing1=t.options.stack.spacing1,t.options.stack.mobileOrigSpacing2=t.options.stack.spacing2),t.options.stack.spacing1=0,t.options.stack.spacing2=0):(t.options.stack.mobileOrigSpacing1||t.options.stack.mobileOrigSpacing2)&&(t.options.stack.spacing1=t.options.stack.mobileOrigSpacing1,delete t.options.stack.mobileOrigSpacing1,t.options.stack.spacing2=t.options.stack.mobileOrigSpacing2,delete t.options.stack.mobileOrigSpacing2)):(t.elem.removeClass("ui-pnotify-mobile-able"),t.options.stack.mobileOrigSpacing1&&(t.options.stack.spacing1=t.options.stack.mobileOrigSpacing1,delete t.options.stack.mobileOrigSpacing1),t.options.stack.mobileOrigSpacing2&&(t.options.stack.spacing2=t.options.stack.mobileOrigSpacing2,delete t.options.stack.mobileOrigSpacing2))}},t}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){e.ui=e.ui||{},e.ui.version="1.12.1";var t=0,i=Array.prototype.slice;e.cleanData=function(t){return function(i){var n,o,s;for(s=0;null!=(o=i[s]);s++)try{n=e._data(o,"events"),n&&n.remove&&e(o).triggerHandler("remove")}catch(e){}t(i)}}(e.cleanData),e.widget=function(t,i,n){var o,s,r,a={},l=t.split(".")[0];t=t.split(".")[1];var c=l+"-"+t;return n||(n=i,i=e.Widget),e.isArray(n)&&(n=e.extend.apply(null,[{}].concat(n))),e.expr[":"][c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},o=e[l][t],s=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new s(e,t)},e.extend(s,o,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(n,function(t,n){return e.isFunction(n)?void(a[t]=function(){function e(){return i.prototype[t].apply(this,arguments)}function o(e){return i.prototype[t].apply(this,e)}return function(){var t,i=this._super,s=this._superApply;return this._super=e,this._superApply=o,t=n.apply(this,arguments),this._super=i,this._superApply=s,t}}()):void(a[t]=n)}),s.prototype=e.widget.extend(r,{widgetEventPrefix:o?r.widgetEventPrefix||t:t},a,{constructor:s,namespace:l,widgetName:t,widgetFullName:c}),o?(e.each(o._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,s,i._proto)}),delete o._childConstructors):i._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){for(var n,o,s=i.call(arguments,1),r=0,a=s.length;a>r;r++)for(n in s[r])o=s[r][n],s[r].hasOwnProperty(n)&&void 0!==o&&(t[n]=e.isPlainObject(o)?e.isPlainObject(t[n])?e.widget.extend({},t[n],o):e.widget.extend({},o):o);return t},e.widget.bridge=function(t,n){var o=n.prototype.widgetFullName||t;e.fn[t]=function(s){var r="string"==typeof s,a=i.call(arguments,1),l=this;return r?this.length||"instance"!==s?this.each(function(){var i,n=e.data(this,o);return"instance"===s?(l=n,!1):n?e.isFunction(n[s])&&"_"!==s.charAt(0)?(i=n[s].apply(n,a),i!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+s+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+s+"'")}):l=void 0:(a.length&&(s=e.widget.extend.apply(null,[s].concat(a))),this.each(function(){var t=e.data(this,o);t?(t.option(s||{}),t._init&&t._init()):e.data(this,o,new n(s,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(i,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),
this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,i){t._removeClass(i,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,o,s,r=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(r={},n=t.split("."),t=n.shift(),n.length){for(o=r[t]=e.widget.extend({},this.options[t]),s=0;n.length-1>s;s++)o[n[s]]=o[n[s]]||{},o=o[n[s]];if(t=n.pop(),1===arguments.length)return void 0===o[t]?null:o[t];o[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=i}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,n,o;for(i in t)o=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&o&&o.length&&(n=e(o.get()),this._removeClass(o,i),n.addClass(this._classes({element:n,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function i(i,s){var r,a;for(a=0;i.length>a;a++)r=o.classesElementLookup[i[a]]||e(),r=e(t.add?e.unique(r.get().concat(t.element.get())):r.not(t.element).get()),o.classesElementLookup[i[a]]=r,n.push(i[a]),s&&t.classes[i[a]]&&n.push(t.classes[i[a]])}var n=[],o=this;return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&i(t.keys.match(/\S+/g)||[],!0),t.extra&&i(t.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(t){var i=this;e.each(i.classesElementLookup,function(n,o){-1!==e.inArray(t.target,o)&&(i.classesElementLookup[n]=e(o.not(t.target).get()))})},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,n){n="boolean"==typeof n?n:i;var o="string"==typeof e||null===e,s={extra:o?t:i,keys:o?e:t,element:o?this.element:e,add:n};return s.element.toggleClass(this._classes(s),n),this},_on:function(t,i,n){var o,s=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=o=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),e.each(n,function(n,r){function a(){return t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof r?s[r]:r).apply(s,arguments):void 0}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+s.eventNamespace,u=l[2];u?o.on(c,u,a):i.on(c,a)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(i).off(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,n){var o,s,r=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(o in s)o in i||(i[o]=s[o]);return this.element.trigger(i,n),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,o,s){"string"==typeof o&&(o={effect:o});var r,a=o?o===!0||"number"==typeof o?i:o.effect||i:t;o=o||{},"number"==typeof o&&(o={duration:o}),r=!e.isEmptyObject(o),o.complete=s,o.delay&&n.delay(o.delay),r&&e.effects&&e.effects.effect[a]?n[t](o):a!==t&&n[a]?n[a](o.duration,o.easing,s):n.queue(function(i){e(this)[t](),s&&s.call(n[0]),i()})}}),e.widget,function(){function t(e,t,i){return[parseFloat(e[0])*(h.test(e[0])?t/100:1),parseFloat(e[1])*(h.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function n(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}var o,s=Math.max,r=Math.abs,a=/left|center|right/,l=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,h=/%$/,d=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==o)return o;var t,i,n=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=n.children()[0];return e("body").append(n),t=s.offsetWidth,n.css("overflow","scroll"),i=s.offsetWidth,t===i&&(i=n[0].clientWidth),n.remove(),o=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),o="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,s="scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]),o=!!i[0]&&9===i[0].nodeType,s=!n&&!o;return{element:i,isWindow:n,isDocument:o,offset:s?e(t).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},e.fn.position=function(o){if(!o||!o.of)return d.apply(this,arguments);o=e.extend({},o);var h,p,f,m,g,v,y=e(o.of),b=e.position.getWithinInfo(o.within),_=e.position.getScrollInfo(b),w=(o.collision||"flip").split(" "),k={};return v=n(y),y[0].preventDefault&&(o.at="left top"),p=v.width,f=v.height,m=v.offset,g=e.extend({},m),e.each(["my","at"],function(){var e,t,i=(o[this]||"").split(" ");1===i.length&&(i=a.test(i[0])?i.concat(["center"]):l.test(i[0])?["center"].concat(i):["center","center"]),i[0]=a.test(i[0])?i[0]:"center",i[1]=l.test(i[1])?i[1]:"center",e=c.exec(i[0]),t=c.exec(i[1]),k[this]=[e?e[0]:0,t?t[0]:0],o[this]=[u.exec(i[0])[0],u.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===o.at[0]?g.left+=p:"center"===o.at[0]&&(g.left+=p/2),"bottom"===o.at[1]?g.top+=f:"center"===o.at[1]&&(g.top+=f/2),h=t(k.at,p,f),g.left+=h[0],g.top+=h[1],this.each(function(){var n,a,l=e(this),c=l.outerWidth(),u=l.outerHeight(),d=i(this,"marginLeft"),v=i(this,"marginTop"),x=c+d+i(this,"marginRight")+_.width,S=u+v+i(this,"marginBottom")+_.height,E=e.extend({},g),C=t(k.my,l.outerWidth(),l.outerHeight());"right"===o.my[0]?E.left-=c:"center"===o.my[0]&&(E.left-=c/2),"bottom"===o.my[1]?E.top-=u:"center"===o.my[1]&&(E.top-=u/2),E.left+=C[0],E.top+=C[1],n={marginLeft:d,marginTop:v},e.each(["left","top"],function(t,i){e.ui.position[w[t]]&&e.ui.position[w[t]][i](E,{targetWidth:p,targetHeight:f,elemWidth:c,elemHeight:u,collisionPosition:n,collisionWidth:x,collisionHeight:S,offset:[h[0]+C[0],h[1]+C[1]],my:o.my,at:o.at,within:b,elem:l})}),o.using&&(a=function e(t){var i=m.left-E.left,n=i+p-c,a=m.top-E.top,e=a+f-u,h={target:{element:y,left:m.left,top:m.top,width:p,height:f},element:{element:l,left:E.left,top:E.top,width:c,height:u},horizontal:0>n?"left":i>0?"right":"center",vertical:0>e?"top":a>0?"bottom":"middle"};c>p&&p>r(i+n)&&(h.horizontal="center"),u>f&&f>r(a+e)&&(h.vertical="middle"),h.important=s(r(i),r(n))>s(r(a),r(e))?"horizontal":"vertical",o.using.call(this,t,h)}),l.offset(e.extend(E,{using:a}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,o=n.isWindow?n.scrollLeft:n.offset.left,r=n.width,a=e.left-t.collisionPosition.marginLeft,l=o-a,c=a+t.collisionWidth-r-o;t.collisionWidth>r?l>0&&0>=c?(i=e.left+l+t.collisionWidth-r-o,e.left+=l-i):e.left=c>0&&0>=l?o:l>c?o+r-t.collisionWidth:o:l>0?e.left+=l:c>0?e.left-=c:e.left=s(e.left-a,e.left)},top:function(e,t){var i,n=t.within,o=n.isWindow?n.scrollTop:n.offset.top,r=t.within.height,a=e.top-t.collisionPosition.marginTop,l=o-a,c=a+t.collisionHeight-r-o;t.collisionHeight>r?l>0&&0>=c?(i=e.top+l+t.collisionHeight-r-o,e.top+=l-i):e.top=c>0&&0>=l?o:l>c?o+r-t.collisionHeight:o:l>0?e.top+=l:c>0?e.top-=c:e.top=s(e.top-a,e.top)}},flip:{left:function(e,t){var i,n,o=t.within,s=o.offset.left+o.scrollLeft,a=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,h=c+t.collisionWidth-a-l,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+d+p+f+t.collisionWidth-a-s,(0>i||r(u)>i)&&(e.left+=d+p+f)):h>0&&(n=e.left-t.collisionPosition.marginLeft+d+p+f-l,(n>0||h>r(n))&&(e.left+=d+p+f))},top:function(e,t){var i,n,o=t.within,s=o.offset.top+o.scrollTop,a=o.height,l=o.isWindow?o.scrollTop:o.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,h=c+t.collisionHeight-a-l,d="top"===t.my[1],p=d?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(n=e.top+p+f+m+t.collisionHeight-a-s,(0>n||r(u)>n)&&(e.top+=p+f+m)):h>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-l,(i>0||h>r(i))&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}(),e.ui.position,e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},e.fn.extend({uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(i){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t},e.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target),n=e(e.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.target).closest(".ui-menu-item"),n=e(t.currentTarget);i[0]===n[0]&&(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,n))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){var i=!e.contains(this.element[0],e.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=t.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var t=e(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var i,n,o,s,r=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:r=!1,n=this.previousFilter||"",s=!1,o=t.keyCode>=96&&105>=t.keyCode?""+(t.keyCode-96):String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),o===n?s=!0:o=n+o,i=this._filterMenuItems(o),i=s&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(o=String.fromCharCode(t.keyCode),i=this._filterMenuItems(o)),i.length?(this.focus(t,i),this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}r&&t.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i,n,o,s,r=this,a=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.prev(),n=e("<span>").data("ui-menu-submenu-caret",!0);r._addClass(n,"ui-menu-icon","ui-icon "+a),i.attr("aria-haspopup","true").prepend(n),t.attr("aria-labelledby",i.attr("id"))}),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),t=l.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);r._isDivider(t)&&r._addClass(t,"ui-menu-divider","ui-widget-content")}),o=i.not(".ui-menu-item, .ui-menu-divider"),s=o.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(o,"ui-menu-item")._addClass(s,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e+""),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var i,n,o;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),o=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(o,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,o,s,r,a;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,o=t.offset().top-this.activeMenu.offset().top-i-n,s=this.activeMenu.scrollTop(),r=this.activeMenu.height(),a=t.outerHeight(),0>o?this.activeMenu.scrollTop(s+o):o+a>r&&this.activeMenu.scrollTop(s+o-r+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this._removeClass(n.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=n},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[t]()),this.focus(i,n)},nextPage:function(t){var i,n,o;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),0>i.offset().top-n-o}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var i,n,o;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n+o>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(e.trim(e(this).children(".ui-menu-item-wrapper").text()))})}}),e.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,n,o=this.element[0].nodeName.toLowerCase(),s="textarea"===o,r="input"===o;this.isMultiLine=s||!r&&this._isContentEditable(this.element),this.valueMethod=this.element[s||r?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))return t=!0,n=!0,void(i=!0);t=!1,n=!1,i=!1;var s=e.ui.keyCode;switch(o.keyCode){case s.PAGE_UP:t=!0,this._move("previousPage",o);break;case s.PAGE_DOWN:t=!0,this._move("nextPage",o);break;case s.UP:t=!0,this._keyEvent("previous",o);break;case s.DOWN:t=!0,this._keyEvent("next",o);break;case s.ENTER:this.menu.active&&(t=!0,o.preventDefault(),this.menu.select(o));break;case s.TAB:this.menu.active&&this.menu.select(o);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(o),o.preventDefault());break;default:i=!0,this._searchTimeout(o)}},keypress:function(n){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault());if(!i){var o=e.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:this._move("previousPage",n);break;case o.PAGE_DOWN:this._move("nextPage",n);break;case o.UP:this._keyEvent("previous",n);break;case o.DOWN:this._keyEvent("next",n)}}},input:function(e){return n?(n=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==e.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(t,i){var n,o;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)})):(o=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:o})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(o.value),n=i.item.attr("aria-label")||o.value,void(n&&e.trim(n).length&&(this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))))},menuselect:function(t,i){var n=i.item.data("ui-autocomplete-item"),o=this.previous;this.element[0]!==e.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=o,this._delay(function(){this.previous=o,this.selectedItem=n})),!1!==this._trigger("select",t,{item:n})&&this._value(n.value),this.term=this._value(),this.close(t),this.selectedItem=n}}),this.liveRegion=e("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var i=this.menu.element[0];return t.target===this.element[0]||t.target===i||e.contains(i,t.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,o){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){o(e)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),n=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!i&&!n)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,function(e,i){n._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<div>").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return n.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete}),function(){function e(t){return void 0===t&&(t={}),this instanceof e?void e.setOptions(this,t,e.defaultOptions,L,!0,this._optionsHook):new e(t)}function t(e,t){for(var i in e)e.hasOwnProperty(i)&&(this[i]=t.hasOwnProperty(i)&&void 0!==t[i]?t[i]:e[i])}function i(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}function n(e,t){for(var i=t.length,n=0,o=-1;++o<i;){var s=t[o],r=s.length;e.substr(n,r)===s&&(n+=r)}return n>0?e.substr(n):e}function o(e){var t=e.length;if(!t)return null;for(var i=r(e[0]),n=0;++n<t;)i+="|"+r(e[n]);return new RegExp("(?:^|\\s)\\s*("+i+"):\\s*","g")}function s(e){var t=e.length;if(!t)return null;var i=r(e);return new RegExp("(?:^|["+i+"])+([^"+i+"])[^"+i+"]*","g")}function r(e){var t=/[\-\[\]\/\{}\(\)\*\+\?\.\\\^\$\|]/g;return e.replace(t,"\\$&")}function a(e,t,i,n,o,s){this.item=e,this.fields=t,this.score=i,this.matchIndex=n,this.subIndex=o,this.sortKey=s}function l(e,t){var i=t.score-e.score;if(0!==i)return i;var n=e.sortKey,o=t.sortKey;return n>o?1:n<o?-1:0}function c(e,t,i,n,o,s,r){this.normalized=e,this.words=t,this.tokens_groups=i,this.fused_str=n,this.fused_map=o,this.fused_score=0,this.has_children=s,this.children=r}function u(e,t,i){this.tokens=e,this.map=t,this.gate=i;for(var n=e.length,o=-1,s=new Array(n);++o<n;)s[o]=0;this.score_item=s.slice(),this.score_field=s.slice(),this.field_pos=s}function h(e,t){this.start=e,this.end=t}function d(e,t){this.item=e,this.fields=t}function p(e,t,i,n){for(var o,s,r,a=t.length;n<a&&(o=t[n++],"*"!==o&&""!==o);){if(!(o in e))return i;e=e[o]}var l=Object.prototype.toString.call(e),c="[object Array]"===l,u="[object Object]"===l;if(n===a)if(c)for(s=-1,r=e.length;++s<r;)i.push(e[s].toString());else if(u)for(o in e)e.hasOwnProperty(o)&&i.push(e[o].toString());else i.push(e.toString());else if("*"===o)if(c)for(s=-1,r=e.length;++s<r;)p(e[s],t,i,n);else if(u)for(o in e)e.hasOwnProperty(o)&&p(e[o],t,i,n);return i}function f(e){for(var t=[],i={},n=e.fields,o=0;o<n.length;o++)for(var s=n[o],r=0;r<s.length;r++)for(var a=s[r],l=0;l<a.length;l++)g(a[l],t,i);return t}function m(e){var t,i,n=[],o={},s=e.words;for(t=0;t<s.length;t++)g(s[t],n,o);var r=e.children;for(t=0;t<r.length;t++)for(s=r[t].words,i=0;i<s;i++)g(s[i],n,o);return n}function g(e,t,i){var n=e.length;0!=n&&(n>=3&&y(e,6,t,i),n>=2&&v(e,4,t,i),b(e[0],t,i))}function v(e,t,i,n){for(var o=Math.min(e.length,t),s=0;s<o-1;s++)for(var r=s+1;r<o;r++)b(e[s]+e[r],i,n);return i}function y(e,t,i,n){for(var o=Math.min(e.length,t),s=0;s<o-2;s++)for(var r=s+1;r<o-1;r++)for(var a=r+1;a<o;a++)b(e[s]+e[r]+e[a],i,n);return i}function b(e,t,i){e in i||(i[e]=!0,t.push(e))}function _(e,t){var i={};if(0==e.length)return[];for(var n=0;n<e.length;n++){var o=e[n];if(o in t)for(var s=t[o],r=0;r<s.length;r++){var a=s[r];a in i?i[a]++:i[a]=1}}var l=[];for(var c in i)i.hasOwnProperty(c)&&l.push(new w(c,i[c]));return l=l.sort(function(e,t){return t.count-e.count})}function w(e,t){this.id=e,this.count=t}function k(e){return e?e.toLowerCase().replace(/[^\u0000-\u007E]/g,function(e){
return I[e]||e}):""}function x(){for(var e="",t="aaaaaaeeeeeiiiioooooouuuunc",i={},n=0;n<e.length;n++)i[e[n]]=t[n];return i}function S(e,t,i,n){var o=i.length,s=t.exec(e);if(null===s)return i[o]=e,void(n[o]="");for(var r,a,l=0;null!==s;)r=s.index,a=s[0].length,i[o]=e.substring(l,r),n[o]=e.substr(r,a),l=r+a,o++,s=t.exec(e);i[o]=e.substring(l),n[o]=""}function E(e,t,i,n){var o,s,r=e.length,a=[];for(o=0;o<r;o++)a[o]={};var l,c=new T(e,a,i,n),u=C(c,0,0).score,h=0;for(o=0;o<r&&(l=a[o][h],l);o++)t[o]=s=l.index,s>-1&&(h|=1<<s);return u}function C(e,t,i){var n=e.score_grid,o=e.cache_tree,s=e.score_thresholds,r=e.order_bonus,a=n.length,l=n[i].length;l>O&&(l=O);var c,u,h,d=s[i],p=0,f=-1,m=i<a-1,g=o[i+1];for(c=0;c<l;c++){var v=1<<c;if(!(t&v||(u=n[i][c],u<d))){if(m){h=t|v;var y=h in g?g[h]:C(e,h,i+1);u+=y.score,c<y.index&&(u+=r)}u>=p&&(p=u,f=c)}}m&&(h=t,u=h in g?g[h].score:C(e,h,i+1).score,u>p&&(p=u,f=-1));var b=new A(p,f);return o[i][t]=b,b}function A(e,t){this.score=e,this.index=t}function T(e,t,i,n){this.score_grid=e,this.cache_tree=t,this.score_thresholds=i,this.order_bonus=n}function N(e,t){var i,n,o=e.slice();for(e.length=t,i=0;i<t;i++)e[i]=-1;for(i=0;i<o.length;i++)n=o[i],n>-1&&n<t&&(e[n]=i)}e.defaultOptions={minimum_match:1,thresh_include:2,thresh_relative_to_best:.5,field_good_enough:20,bonus_match_start:.5,bonus_token_order:2,bonus_position_decay:.7,score_per_token:!0,score_test_fused:!1,score_acronym:!1,token_sep:" .,-:",score_round:.1,output_limit:0,sorter:l,normalize:k,filter:null,output_map:"item",join_str:", ",token_query_min_length:2,token_field_min_length:3,token_query_max_length:64,token_field_max_length:64,token_fused_max_length:64,token_min_rel_size:.6,token_max_rel_size:10,interactive_debounce:150,interactive_mult:1.2,interactive_burst:3,source:[],keys:[],lazy:!1,token_re:/\s+/g,identify_item:null,use_index_store:!1,store_thresh:.7,store_max_results:1500};var L={keys:[],tags:[],index:[],index_map:{},nb_indexed:0,store:{},tags_re:null,acro_re:null,token_re:null,options:null,dirty:!1,query:null,results:[],start_time:0,search_time:0},O=32;t.update=function(e,t,i){for(var n in i)i.hasOwnProperty(n)&&t.hasOwnProperty(n)&&(e[n]=void 0===i[n]?t[n]:i[n])},e.setOptions=function(e,n,o,s,r,a){r?(i(e,s),e.options=new t(o,n)):t.update(e.options,o,n),a.call(e,n)},i(e.prototype,{setOptions:function(t,i){void 0===i&&(i=t.reset||!1),e.setOptions(this,t,e.defaultOptions,L,i,this._optionsHook)},_optionsHook:function(e){var t=this.options;"output_map"in e&&"string"==typeof e.output_map&&("alias"===t.output_map?t.output_map=this.aliasResult:t.output_map=n(t.output_map,["root","."])),this.source=t.source;var i;if("keys"in e&&void 0!==(i=e.keys)){var a,l,c=Object.prototype.toString.call(i);if(this.tags=null,"[object String]"===c)this.keys=i.length?[i]:[];else if("[object Object]"===c){this.keys=[],this.tags=[],a=0;for(var u in i)i.hasOwnProperty(u)&&(this.tags[a]=u,this.keys[a]=i[u],a++)}else this.keys=i;for(i=this.keys,l=i.length,a=-1;++a<l;)i[a]=n(i[a],["item","."]);this.tags||(this.tags=i),this.tags_re=o(this.tags)}(null===this.acro_re||"acronym_tok"in e)&&(this.acro_re=s(t.token_sep)),(null===this.token_re||"token_sep"in e)&&(this.token_re=t.token_re=new RegExp("["+r(t.token_sep)+"]+","g")),(e.dirty||"source"in e||"keys"in e||"use_index_store"in e)&&(t.lazy?this.dirty=!0:(this._buildIndexFromSource(),this.dirty=!1))}}),i(e.prototype,{getMatchingField:function(t){var i=e.generateFields(t.item,[this.keys[t.matchIndex]]);return i[0][t.subIndex]},aliasResult:function(t){for(var i=this.options,n=e.generateFields(t.item,this.keys),o={},s=this.tags,r=i.join_str,a=-1,l=n.length;++a<l;)o[s[a]]=n[a].join(r);return o._item=t.item,o._score=t.score,o._match=n[t.matchIndex][t.subIndex],o}}),e.map=function(e,t,i,n){var o=e.length;if(n>0&&n<o&&(o=n),"function"!=typeof t)return e.slice(0,o);for(var s=new Array(o),r=-1;++r<o;)s[r]=t.call(i,e[r],r,e);return s},e.mapField=function(e,t,i){var n=e.length;if(i>0&&i<n&&(n=i),""===t)return e.slice(0,n);var o,s,r=new Array(n);if(t.indexOf(".")===-1)for(s=-1;++s<n;)o=e[s],t in o&&(r[s]=o[t]);else{var a=t.split("."),l=a.length;for(s=-1;++s<n;){o=e[s];for(var c=-1;++c<l;){var u=a[c];if(!(u in o))break;o=o[u]}r[s]=o}}return r},e.filterGTE=function(e,t,i){for(var n,o=-1,s=-1,r=e.length,a=[];++o<r;)n=e[o],n[t]>=i&&(a[++s]=n);return a},i(e.prototype,{_prepQuery:function(t){var i,n,o,s,r,a,l,u=this.options,h=u.score_per_token,d=u.score_test_fused,p=u.token_fused_max_length,f=u.token_field_min_length,m=u.token_field_max_length,g=this.tags,v=this.tags_re,y=g.length,b=this.token_re;if(h&&y&&v){var _,w=0,k=0,x=new Array(y+1),S=v.exec(t);for(r=null!==S;null!==S;)_=S.index,x[k]=t.substring(w,_),w=_+S[0].length,k=g.indexOf(S[1])+1,S=v.exec(t);x[k]=t.substring(w),s=[];for(var E=-1;++E<y;){var C=x[E+1];C&&C.length&&(i=u.normalize(C),n=i.substring(0,p),o=d||!h?e.alphabet(n):{},l=e.filterSize(i.split(b),f,m),a=e.pack_tokens(l),s[E]=new c(i,l,a,n,o,(!1),[]))}i=u.normalize(x[0]),l=e.filterSize(i.split(b),f,m),a=e.pack_tokens(l)}else i=u.normalize(t),l=e.filterSize(i.split(b),f,m),a=h?e.pack_tokens(l):[],r=!1,s=new Array(y);return n=i.substring(0,p),o=d||!h?e.alphabet(n):{},new c(i,l,a,n,o,r,s)}}),c.prototype.resetItem=function(){for(var e=this.tokens_groups,t=-1,i=e.length;++t<i;)for(var n=e[t].score_item,o=-1,s=n.length;++o<s;)n[o]=0;if(this.fused_score=0,this.has_children)for(var r=this.children,a=-1,l=r.length;++a<l;){var c=r[a];c&&c.resetItem()}},c.prototype.scoreItem=function(){for(var e=0,t=this.tokens_groups,i=-1,n=t.length;++i<n;)for(var o=t[i].score_item,s=-1,r=o.length;++s<r;)e+=o[s];if(this.fused_score>e&&(e=this.fused_score),this.has_children)for(var a=this.children,l=-1,c=a.length;++l<c;){var u=a[l];u&&(e+=u.scoreItem())}return e},e.alphabet=function(t){var i=t.length;return i>O?e.posVector(t):e.bitVector(t,{},0)},e.mapAlphabet=function(t){for(var i=t.length,n=new Array(i),o=-1;++o<i;){var s=t[o];s.length>O?n[o]=e.posVector(s):n[o]=e.bitVector(s,{},0)}return n},e.bitVector=function(e,t,i){for(var n,o=e.length,s=-1,r=i;++s<o;)n=e[s],n in t?t[n]|=1<<r++:t[n]=1<<r++;return t},e.posVector=function(e){for(var t,i={},n=e.length,o=-1;++o<n;)t=e[o],t in i?i[t].push(o):i[t]=[o];for(t in i)i.hasOwnProperty(t)&&i[t].push(1/0);return i},e.pack_tokens=function(t){for(var i,n=-1,o=t.length,s=[];n<o;){for(var r=[],a={},l=0,c=0;++n<o;){var h=t[n],d=h.length;if(d>=O){i=new u([h],e.posVector(h),4294967295);break}if(d+l>=O){n--;break}r.push(h),e.bitVector(h,a,l),c|=(1<<h.length-1)-1<<l,l+=d}r.length>0&&s.push(new u(r,a,c)),i&&(s.push(i),i=null)}return s},e.prototype.score=function(t,i){var n=e.alphabet(t);return e.score_map(t,i,n,this.options)},e.score_map=function(t,i,n,o){var s,r,a=t.length,l=i.length,c=o.bonus_match_start,u=a<l?a:l;if(0===u)return 0;var h=(a+l)/(2*a*l),d=0;if(t===i)d=u;else for(;t[d]===i[d]&&++d<u;);if(d===u)return r=d,h*r*r+c*d;if(a>O)return r=e.llcs_large(t,i,n,d),h*r*r+c*d;var p,f,m=(1<<a)-1,g=m;for(s=d-1;++s<l;)f=i[s],f in n&&(p=g&n[f],g=g+p|g-p);return m&=~((1<<d)-1),g=~g&m,g-=g>>1&1431655765,g=(858993459&g)+(g>>2&858993459),r=16843009*(g+(g>>4)&252645135)>>24,r+=d,h*r*r+c*d},e.score_single=function(t,i,n){var o=t.tokens[0],s=o.length,r=i.length;return r<n.token_min_rel_size*s||r>n.token_max_rel_size*s?[0]:[e.score_map(o,i,t.map,n)]},e.score_pack=function(t,i,n){var o=t.tokens,s=o.length;if(1==s)return e.score_single(t,i,n);for(var r,a,l=4294967295,c=0|t.gate,u=t.map,h=-1,d=i.length;++h<d;)a=i[h],a in u&&(r=l&u[a],l=(l&c)+(r&c)|l-r);l=~l;for(var p=n.bonus_match_start,f=n.token_min_rel_size,m=n.token_max_rel_size,g=new Array(s),v=0,y=-1;++y<s;){var b,_,w=o[y],k=w.length;if(d<f*k||d>m*k)g[y]=0,v+=k;else{if(w===i)_=b=k;else{var x=k<d?k:d;for(_=0;w[_]===i[_]&&++_<x;);b=_;for(var S=(l>>>v&(1<<k)-1)>>>_;S;)S&=S-1,b++}v+=k;var E=(k+d)/(2*k*d);g[y]=E*b*b+p*_}}return g},e.llcs_large=function(e,t,i,n){var o,s,r,a,l,c;void 0===n&&(n=0),r=n?[new h(0,n),new h(1/0,1/0)]:[new h(1/0,1/0)];var u,d,p,f,m,g,v=n,y=r.length,b=t.length;for(g=n;g<b;g++){var _=t[g];if(_ in i){u=i[_];var w=new Array(Math.min(2*y,v+2));for(a=-1,d=0,s=u[0],c=-1,f=-1;++f<y;){for(l=c,p=r[f],o=p.start,c=p.end,m=c-o;s<l;)s=u[++d];o<=s?w[++a]=p:(s===l?w[a].end++:1===m?(p.start=s,p.end=s+1,w[++a]=p):w[++a]=new h(s,s+1),m>1&&(p.start++,w[++a]=p))}o>s&&(w[++a]=p,v++),r=w,y=++a}}return v},i(e.prototype,{search:function(t){var i=Date.now();this.start_time=i;var n=this.options;this.dirty&&n.lazy&&(this._buildIndexFromSource(),this.dirty=!1);var o=this.query=this._prepQuery(t),s=this.index,r=[];n.use_index_store&&(s=this._storeSearch(o,s)),n.filter&&(s=n.filter.call(this,s));var a=this._searchIndex(o,s,r);r=e.filterGTE(r,"score",a),"function"==typeof n.sorter&&(r=r.sort(n.sorter)),(n.output_map||n.output_limit>0)&&(r="function"==typeof n.output_map?e.map(r,n.output_map,this,n.output_limit):e.mapField(r,n.output_map,n.output_limit));var l=Date.now();return this.search_time=l-i,this.results=r,r},_searchIndex:function(t,i,n){for(var o=this.options,s=o.bonus_position_decay,r=o.field_good_enough,l=o.thresh_relative_to_best,c=o.score_per_token,u=o.score_round,h=o.thresh_include,d=0,p=t.children,f=-1,m=i.length;++f<m;){var g=i[f],v=g.fields;t.resetItem();for(var y=0,b=-1,_=-1,w=1,k=-1,x=v.length;++k<x;){for(var S=0,E=-1,C=v[k],A=p[k],T=!!A,N=-1,L=C.length;++N<L;){var O,I=C[N];c?(O=this._scoreField(I,t),T&&(O+=this._scoreField(I,A))):O=e.score_map(t.fused_str,I.join(" "),t.fused_map,o),O>S&&(S=O,E=N)}if(S*=1+w,w*=s,S>y&&(y=S,b=k,_=E,S>r))break}if(c){var P=t.scoreItem();y=.5*y+.5*P}if(y>d){d=y;var D=y*l;D>h&&(h=D)}y>h&&(y=Math.round(y/u)*u,n.push(new a(g.item,v,y,b,_,v[0][0].join(" "))))}return h},_scoreField:function(t,i){var n=i.tokens_groups,o=n.length,s=t.length;if(!o||!s)return 0;for(var r,a,l,c,u,h=0,d=-1,p=this.options,f=p.bonus_token_order,m=p.minimum_match,g=-1;++g<o;){var v=n[g],y=v.tokens.length,b=v.score_field;for(u=-1;++u<y;)b[u]=0;var _=v.field_pos;for(u=-1;++u<y;)_[u]=0;for(var w=-1;++w<s;)for(l=t[w],c=e.score_pack(v,l,p),u=-1;++u<y;)r=c[u],a=b[u],(r>a||a-r<f&&u>0&&_[u]<=_[u-1])&&(b[u]=r,_[u]=w);var k=v.score_item;for(u=-1;++u<y;){if(r=b[u],h+=r,r>m){var x=_[u],S=x-d,E=f*(1/(1+Math.abs(S)));S>0&&(E*=2),h+=E,r+=E,d=x}r>k[u]&&(k[u]=r)}}if(p.score_test_fused){for(var C=p.score_acronym?s-1:s,A=t[0],T=0;++T<C;)A+=" "+t[T];var N=e.score_map(i.fused_str,A,i.fused_map,p);N+=f,h=N>h?N:h,N>i.fused_score&&(i.fused_score=N)}return h}}),i(e.prototype,{_prepItem:function(t,i){for(var n=e.generateFields(t,i),o=n.length,s=-1;++s<o;)for(var r=n[s],a=-1,l=r.length;++a<l;){var c=this.options.normalize(r[a]),u=c.split(this.token_re);c.length>2*this.options.token_field_min_length&&(u=e.filterSize(u,this.options.token_field_min_length,this.options.token_field_max_length)),this.options.score_acronym&&u.push(c.replace(this.acro_re,"$1")),r[a]=u}return new d(t,n)},add:function(e,t){void 0===t&&(t=!0);var i,n="function"==typeof this.options.identify_item?this.options.identify_item(e):null;null===n?(i=this.nb_indexed,this.nb_indexed++):n in this.index_map?i=this.index_map[n]:(this.index_map[n]=this.nb_indexed,i=this.nb_indexed,this.nb_indexed++);var o=this._prepItem(e,this.keys);this.index[i]=o,t&&(this.source[i]=e),this.options.use_index_store&&this._storeAdd(o,i)},_buildIndexFromSource:function(){var e=this.source.length;this.index=new Array(e),this.index_map={},this.nb_indexed=0;for(var t=-1;++t<e;){var i=this.source[t];this.add(i,!1)}}}),e.generateFields=function(e,t){if(!t||!t.length)return[[e.toString()]];for(var i=t.length,n=new Array(i),o=-1;++o<i;)n[o]=p(e,t[o].split("."),[],0);return n},i(e.prototype,{_storeAdd:function(e,t){var i=f(e);if(0!=i.length)for(var n=0;n<i.length;n++){var o=i[n];o in this.store?this.store[o].push(t):this.store[o]=[t]}},_storeSearch:function(t,i){var n=m(t);if(0==n.length)return[];var o=_(n,this.store);if(0==o.length)return[];var s=o[0].count*this.options.store_thresh;return o=e.filterGTE(o,"count",s),e.map(o,function(e){return i[e.id]},this,this.options.store_max_results)}});var I=x();return e.filterSize=function(e,t,i){for(var n,o,s=-1,r=-1,a=e.length,l=[];++s<a;)n=e[s],o=n.length,o>=t&&(l[++r]=o<i?n:n.substr(0,i));return l},i(e.defaultOptions,{highlight_prefix:!1,highlight_bridge_gap:2,highlight_before:'<strong class="highlight">',highlight_after:"</strong>"}),e.prototype.highlight=function(t,i){var n,o,s=this.query.normalized;return i&&i.length&&(n=this.tags.indexOf(i))>-1&&(o=this.query.children[n])&&(s+=(s.length?" ":"")+o.normalized),e.highlight(s,t,this.options)},e.highlight=function(t,i,n){if(void 0===n&&(n=e.defaultOptions),!i)return"";var o=n.highlight_before,s=n.highlight_after,r=n.score_per_token,a=n.score_test_fused,l=n.score_acronym,c=n.token_re,u=n.normalize(t),h=n.normalize(i),d=u.split(c),p=h.split(c),f=[],m=[];S(i,c,f,m);var g=[],v=[],y=0,b=0;if(r&&(b=e.matchTokens(p,d,v,n,!1)),(a||!r||l)&&(y=e.score_map(u,h,e.alphabet(u),n)+n.bonus_token_order),0===b&&0===y)return i;(!r||y>b)&&(d=[u],p=[h],f=[i],v=[0]);for(var _=f.length,w=-1;++w<_;){var k=v[w];if(k!==-1){var x=d[k],E=p[w],C=f[w],A=0,T=[],N=[];e.align(x,E,T,N);for(var L=T.length,O=-1;++O<L;){var I=T[O],P=N[O];I>A&&g.push(C.substring(A,I)),g.push(o+C.substring(I,P)+s),A=P}g.push(C.substring(A)+m[w])}else g.push(f[w]+m[w])}return g.join("")},e.align=function(t,i,n,o,s){void 0===s&&(s=e.defaultOptions);var r,a,l=100,c=-10,u=-1,h=0,d=1,p=2,f=3,m=s.score_acronym,g=s.token_sep,v=Math.min(t.length+1,s.token_query_max_length),y=Math.min(i.length+1,s.token_field_max_length),b=v<y?v:y,_=0;if(t===i)_=v,v=0;else if(s.highlight_prefix){for(r=0;r<b&&t[r]===i[r];r++)_++;_&&(t=t.substring(_),i=i.substring(_),v-=_,y-=_)}var w=0,k=0,x=0,S=new Array(v*y),E=y-1;if(v>1&&y>1){var C,A,T,N,L=new Array(y),O=new Array(y),I=0;for(a=0;a<y;a++)O[a]=0,L[a]=0,S[a]=h;for(r=1;r<v;r++)for(I=0,C=L[0],E++,S[E]=h,a=1;a<y;a++)switch(N=O[a]=Math.max(O[a]+u,L[a]+c),I=Math.max(I+u,L[a-1]+c),T=m?t[r-1]!==i[a-1]?-(1/0):C+l+(r<2||g.indexOf(t[r-2])>-1?l:0)+(a<2||g.indexOf(i[a-2])>-1?l:0):t[r-1]===i[a-1]?C+l:-(1/0),C=L[a],A=L[a]=Math.max(T,N,I,0),E++,A){case I:S[E]=p;break;case T:S[E]=f,A>w&&(w=A,k=r,x=a);break;case N:S[E]=d;break;default:S[E]=h}}var P=s.highlight_bridge_gap,D=0;if(w>0){r=k,a=x,E=r*y+a,D=x,o.push(x+_);for(var q=!0;q;)switch(S[E]){case d:r--,E-=y;break;case p:a--,E--;break;case f:D-a>P&&(n.push(D+_),o.push(a+_)),a--,r--,D=a,E-=y+1;break;case h:default:q=!1}n.push(D+_)}return _&&(D>0&&D<=P?n[n.length-1]=0:(n.push(0),o.push(_))),n.reverse(),o.reverse(),w+_},e.matchTokens=function(t,i,n,o,s){void 0===o&&(o=e.defaultOptions),void 0===s&&(s=!1);var r,a,l,c,u,h,d,p=o.minimum_match,f=o.thresh_relative_to_best,m=[],g=t.length,v=i.length,y=e.mapAlphabet(t),b=p,_=-1,w=-1,k=0,x=[];for(r=0;r<g;r++)if(l=[],n[r]=-1,b=p,c=t[r],c.length){for(h=y[r],a=0;a<v;a++)u=i[a],u.length?(d=e.score_map(c,u,h,o),l[a]=d,d>p&&k++,d>b&&(b=d,_=r,w=a)):l[a]=0;x[r]=b,m[r]=l}else{for(a=0;a<v;a++)l[a]=0;m[r]=l}if(0===k)return 0;if(1===k)return n[_]=w,s&&N(n,v),b;for(r=0;r<t.length;r++)x[r]=Math.max(f*x[r],p);var S=E(m,n,x,o.bonus_token_order);return s&&N(n,v),S},i(e.prototype,{getInteractive:function(){var e=this,t=this.options,i=t.interactive_debounce,n=t.interactive_mult,o=t.interactive_burst;if(0===i)return function(t,i,n,o){return i(e.search(t))};var s,r,a=window.performance&&window.performance.now?window.performance:Date,l=0,c=!1;return function(t,u,h,d){var p=function(){s=null,c&&(r=e.search(t),d(r)),l=0,c=!1};if(clearTimeout(s),s=setTimeout(p,i),++l<o){c=!1;var f=a.now();r=e.search(t);var m=u(r),g=a.now();return i=.5*i+.5*n*(g-f),m}return c=!0,h(r)}},__ttAdapter:function(){var e=this.getInteractive(),t=function(e){};return function(i,n,o){e(i,n,t,o)}},$uiSource:function(){var e=this.getInteractive(),t=function(e){};return function(i,n){e(i.term,n,t,n)}}}),"function"==typeof require&&"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):window.FuzzySearch=e,e}(),Array.prototype.JoinNotNull=function(e){return this.filter(function(e){return null!=e&&""!==e}).join(e)},Array.prototype.GetUnique=function(){return this.filter(function(e,t,i){return i.indexOf(e)===t})};var LocalStogeEnum={SELECTED_LOCATION_STORAGE_NAME:"SelectedLocation",LAST_SEARCH_SOURCE:"LastSearchSources",ALL_PLACES:"AllPlaces",USER_SETTING:"UserSettings",LAST_TAB_SELECTED:"LAST_TAB_SELECTED",CURENT_LEADS:"CURENT_LEADS",MAP_CENTER:"MAP_CENTER"},LocalStorageHelper={Save:function(e,t){localStorage.setItem(e,JSON.stringify(t))},AddObject:function(e,t){LocalStorageHelper.Save(e,t),console.log("LocalStorageHelper.AddObject",e,t)},AddAlasticSearchItem:function(e,t,i){for(var n=LocalStorageHelper.Get(e)||[],o=0;o<i.length;o++){var s=n.map(function(e){return e[t]}).indexOf(i[o][t]);s<0&&n.unshift(i[o])}LocalStorageHelper.Save(e,n.slice(0,LocalStorageHelper.AlasticSeachItemsLength))},Get:function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):null},Remove:function(e){localStorage.removeItem(e)},Clear:function(){localStorage.clear()},Init:function(e){LocalStorageHelper.AlasticSeachItemsLength=e||2e3},UserStoge:{GetUserSetting:function(){var e=LocalStorageHelper.Get(LocalStogeEnum.USER_SETTING);return null===e&&(e=new Object,LocalStorageHelper.AddObject(LocalStogeEnum.USER_SETTING,e)),e},UpdateListViewStyle:function(e){var t=this.GetUserSetting();t.ListViewStyle=e,LocalStorageHelper.Save(LocalStogeEnum.USER_SETTING,t),console.log(t)},GetLastTabSelected:function(){var e=LocalStorageHelper.Get(LocalStogeEnum.USER_SETTING);return null!==e?e.ListViewStyle:null}}};document.addEventListener("DOMContentLoaded",LocalStorageHelper.Init(),!1);var SessionStorageHelper={Save:function(e,t){sessionStorage.setItem(e,JSON.stringify(t))},Get:function(e){var t=sessionStorage.getItem(e);return t?JSON.parse(t):null},Remove:function(e){sessionStorage.removeItem(e)},Clear:function(){sessionStorage.clear()},Init:function(){}},SessionNamesEnum={};document.addEventListener("DOMContentLoaded",SessionStorageHelper.Init(),!1);var CookieHelper={_Save:function(e,t,i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3);var o="expires="+n.toUTCString();document.cookie=e+"="+encodeURIComponent(t)+";"+o+";path=/"},_Get:function(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var o=i[n];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return decodeURIComponent(o.substring(t.length,o.length))}return""},_Check:function(e){var t=CookieHelper._Get(e);return""!==t},SavePropertyId:function(e){var t=CookieHelper._Get(CookieNamesEnum.PropertySaved);t=t?JSON.parse(t):[],t.splice(0,0,+e),t=t.GetUnique(),t.length=t.length<5?t.length:5,console.log(t),CookieHelper._Save(CookieNamesEnum.PropertySaved,JSON.stringify(t),7)},RemovePropertyId:function(e){var t=CookieHelper._Get(CookieNamesEnum.PropertySaved);t=t?JSON.parse(t):[],t.splice(0,0,+e),t=t.GetUnique(),t.length=t.length<5?t.length:5,console.log(t),CookieHelper._Save(CookieNamesEnum.PropertySaved,JSON.stringify(t),7)},ViewPropertyId:function(e){var t=CookieHelper._Get(CookieNamesEnum.PropertiesViewed);t=t?JSON.parse(t):[],t.splice(0,0,+e),t=t.GetUnique(),t.length=t.length<10?t.length:10,console.log(t),CookieHelper._Save(CookieNamesEnum.PropertiesViewed,JSON.stringify(t),7)},Init:function(){}},CookieNamesEnum={PropertySaved:"PropertySaved",PropertiesViewed:"PropertiesViewed"};document.addEventListener("DOMContentLoaded",CookieHelper.Init(),!1);for(var defaultDiacriticsRemovalMap=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"OE",letters:""},{base:"oe",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],signedChars="",unsignedChars="aaaaaaaaaaaaaaaaadeeeeeeeeeeeiiiiiooooooooooooooooouuuuuuuuuuuyyyyyAAAAAAAAAAAAAAAAADEEEEEEEEEEEIIIIIOOOOOOOOOOOOOOOOOUUUUUUUUUUUYYYYY",pattern=new RegExp("["+signedChars+"]","g"),diacriticsMap={},i=0;i<defaultDiacriticsRemovalMap.length;i++)for(var letters=defaultDiacriticsRemovalMap[i].letters,j=0;j<letters.length;j++)diacriticsMap[letters[j]]=defaultDiacriticsRemovalMap[i].base;Number.prototype.ToMoney=function(){var e=this;if(0===Math.round(e))return"$--";var t,i;if(e>1e9)t=e/1e9,i="t";else if(e>1e6)t=e/1e6,i="T";else{if(!(e>1e3))return"$--";t=e/1e3,i="K"}return"$"+Math.round(100*t)/100+" "+i},Number.prototype.ToFrDouble=function(){var e=this;return(""+e).replace(".",",")},Number.prototype.ToDouble=function(){var e=this;return(""+e).replace(",",".")};var NumberHelper={Extend:function(e){},ToFrDouble:function(e){return(""+e).replace(".",",")},ToDouble:function(e){return+(""+e).replace(",",".")},Init:function(e){NumberHelper.Extend(e)}},SeoUrl={MapSearchUrl:function(e,t,i,n){var o=stringToValidArray(t);return"//"+document.location.host+"/"+e+"/"+o.join("-").toLowerCase()+(+i?"/kv"+i+(+n?"/"+n:""):"")},AgentPlaceUrl:function(e,t){var i=stringToValidArray(e);return"//"+document.location.host+"/tim-kiem-agent/"+i.join("-").toLowerCase()+"/"+t},PlaceDetailUrl:function(e,t,i,n){var o=stringToValidArray(t);return"//"+document.location.host+"/tinh-hinh-gia-"+e+"/khu-vuc-"+o.join("-").toLowerCase()+"/"+i},Init:function(){}};document.addEventListener("DOMContentLoaded",SeoUrl.Init(),!1);var keys={37:1,38:1,39:1,40:1},WNumbHelper={Init:function(){WNumbHelper.defaultNumberFormat=wNumb({decimals:0,thousand:","}),WNumbHelper.defaultDoubleFormat=wNumb({decimals:2,thousand:","}),WNumbHelper.moneyFormatShort=wNumb({decimals:0,edit:function(e){if(0===Math.round(e))return"$--";var t,i;if(e>1e9)t=e/1e9,i="T";else if(e>1e6)t=e/1e6,i="tr";else{if(!(e>1e3))return"$--";t=e/1e3,i="k"}return"$"+Math.round(100*t)/100+" "+i}}),WNumbHelper.moneyFormat=wNumb({decimals:0,edit:function(e){if(0===Math.round(e))return"$--";var t,i;if(e>=1e9)t=e/1e9,i="t";else if(e>=1e6)t=e/1e6,i="triu";else{if(!(e>=1e3))return"$--";t=e/1e3,i="ngn"}return"$"+Math.round(100*t)/100+" "+i}})},GetFrNumber:function(e){return WNumbHelper.defaultNumberFormat.to(e)},GetSizem:function(e){return WNumbHelper.defaultNumberFormat.to(e)+" m<sup class='_text-xx-sm'>2</sup>"},GetPrice:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return 0===Math.round(e)?"":t?WNumbHelper.moneyFormatShort.to(+e):WNumbHelper.moneyFormat.to(+e)},GetPricePerm:function(e,t){return null==e||0===Math.round(e)||null==t||0===Math.round(e)?"":WNumbHelper.moneyFormat.to(+e/t)+"/m<sup>2</sup>"}},Site={IsMobile:function(){var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))},IsMobileBackend:function(){return"Mobile"===document.body.dataset.device},IsDesktopBackend:function(){return"Desktop"===document.body.dataset.device},CreateEvent:function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i},RemoveDefaultNumberInputField:function(e){for(var t=document.querySelector(e)||document,i=t.querySelectorAll("[value='0']"),n=0;n<i.length;n++)i[n].value=""},Notify:function(e,t,i,n,o,s){var r={dir1:"up",dir2:"left",push:"bottom",spacing1:25,spacing2:25,context:$("body"),modal:!1},a={stack:r,title:e,text:t,hide:void 0===i||i,type:n,addclass:"stack-bottomright",buttons:{closer_hover:s,sticker:!1},confirm:{prompt:!0,prompt_multi_line:!0,prompt_default:o}};o&&(a.confirm={prompt:!0,prompt_multi_line:!0,prompt_default:o}),new PNotify(a)},NotifyFormFailed:function(e,t){Site.Notify(e,t,!1,"error",null,!0)},NotifyFormSuccess:function(e,t){Site.Notify(e,t,!0,"success",null,!0)},LoadJsonResult:function(e,t,i){if("success"===t){if(Site.Notify(e.title,e.text,e.hide,e.type,e.promptDefault,e.buttonCloser),e.jsAction){var n=new Function(e.jsAction);return n()}}else new PNotify({title:"CNH BO!",text:"Gi d liu ti server tht bi",type:"error"})},ConsumeAlert:function(){window.alert=function(e){new PNotify({title:"Alert",text:e})}},InnitPopup:function(){for(var e=document.querySelectorAll("[data-target-model]"),t=0;t<e.length;t++)e[t].hasAttribute("disabled")||e[t].addEventListener("click",function(e){var t=document.querySelector(e.target.dataset.targetModel);t.classList.remove("hide"),t.classList.add("show"),t.classList.contains("_scroll-hide")||Site.DisableScroll()});for(var i=document.querySelectorAll("._modal"),n=0;n<i.length;n++)i[n].addEventListener("click",function(e){Site.FindParent(e.target,"_modal-content")&&!e.target.hasAttribute("data-type-close-popup")||(this.classList.remove("show"),this.classList.add("hide"),document.getElementsByTagName("body")[0].style.overflow="initial",Site.EnableScroll())});var o=document.querySelectorAll("._modal._scroll-hide");o.length>0&&(window.onscroll=function(){for(var e=0;e<o.length;e++)o[e].dispatchEvent(new Site.CreateEvent("click"))})},AppendScript:function(e,t,i){var n=document.querySelectorAll("script[data-slug='"+e+"']");if(n.length>0)return void i();var o=document.createElement("script");o.type="text/javascript",o.dataset.slug=e,o.readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,i())}:o.onload=function(){i()},o.src=t,document.getElementsByTagName("head")[0].appendChild(o)},AppendStyle:function(e,t,i){var n=document.querySelectorAll("script[data-slug='"+e+"']");if(n.length>0)return void(i&&i());var o=document.createElement("link");o.type="text/css",o.rel="Stylesheet",o.dataset.slug=e,o.readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,i&&i())}:o.onload=function(){i&&i()}},ClearInputFile:function(e){if(e.value){try{e.value=""}catch(e){}if(e.value){var t=e.nextSibling;t.parentNode.insertBefore(e,t)}}},GetGeoLocation:function(e,t){navigator.geolocation?navigator.geolocation.getCurrentPosition(e,t):NotifyFormFailed("THNG BO","Geolocation is not supported by this browser.")},GetBrowserName:function(){return"undefined"!=typeof InstallTrigger?"Firefox":window.chrome&&window.chrome.webstore?"Chrome":/constructor/i.test(window.HTMLElement)||function(e){return"[object SafariRemoteNotification]"===e.toString()}(!window.safari||safari.pushNotification)?"Safari":window.opr&&opr.addons||window.opera||navigator.userAgent.indexOf(" OPR/")>=0?"Opera":document.documentMode?"InternetExplorer":!isIE&&window.StyleMedia?"Edge":"Blink"},InnitAutoHide:function(){for(var e=document.querySelectorAll("[data-auto-hide]._auto-active"),t=0;t<e.length;t++){var i=e[t];setTimeout(function(e){if(e.classList.add("hide"),e.classList.remove("show"),e.dataset.callbackEvent){var t=new Function(e.dataset.callbackEvent);return t()}},i.dataset.time||3e3,i)}},InnitAutoShow:function(){for(var e=document.querySelectorAll("[data-auto-show]._auto-active"),t=0;t<e.length;t++){var i=e[t];setTimeout(function(e){if(e.classList.remove("hide"),e.classList.add("show"),e.dataset.callbackEvent){var t=new Function(e.dataset.callbackEvent);return t()}},i.dataset.time||3e3,i)}},DisableScroll:function(){window.addEventListener&&window.addEventListener("DOMMouseScroll",preventDefault,!1),window.onwheel=preventDefault,window.onmousewheel=document.onmousewheel=preventDefault,window.ontouchmove=preventDefault,document.onkeydown=preventDefaultForScrollKeys},EnableScroll:function(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",preventDefault,!1),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null,
document.onkeydown=null},FindParent:function(e,t){for(var i=e;null!==i&&!i.classList.contains(t);)i=i.parentElement;return i},FindParentByAttribute:function(e,t){for(var i=e;null!==i&&!i.hasAttribute(t);)i=i.parentElement;return i},FindParentByInputType:function(e,t){for(var i=e;null!==i&&i.type!==t;)i=i.parentElement;return i},KillElements:function(){var e,t=document.getElementsByClassName("_kill_me");for(e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e]);var i=document.getElementsByClassName("_kill_parent");for(e=0;e<i.length;e++){var n=Site.FindParent(i[e],i[e].dataset.killParentClassName);n.parentNode.removeChild(n)}},RemoveParent:function(e,t){var i=document.querySelector(e),n=Site.FindParent(i,t);n&&n.parentNode.removeChild(n)},RemoveParentByElement:function(e,t){var i=Site.FindParent(e,t);i&&i.parentNode.removeChild(i)},AddParentClassName:function(e,t,i){var n=Site.FindParent(e,t);n&&n.classList.add(i)},AddClassNameInTime:function(e,t,i){var n=document.querySelector(e);null!=n&&(n.classList.add(t),setTimeout(function(e,t){e.classList.remove(t)},i,n,t))},RemoveParentClassName:function(e,t,i){var n=Site.FindParent(e,t);n&&n.classList.remove(i)},RemoveElementBySelector:function(e){for(var t=document.querySelectorAll(e),i=0;i<t.length;i++)t[i].parentNode.removeChild(t[i])},EnableSubmitButton:function(e){for(var t=e.querySelectorAll("button,[type='reset'],[type='submit'],[name=submitType]"),i=0;i<t.length;i++)t[i].disabled=!1,t[i].classList.remove("_facebook-white-22")},DisableSubmitButton:function(e){for(var t=e.querySelectorAll("button,[type='reset'],[type='submit'],[name=submitType]"),i=0;i<t.length;i++)t[i].disabled=!0,t[i].classList.add("_facebook-white-22")},AddAttribute:function(e,t,i){for(var n=document.querySelectorAll(e),o=0;o<n.length;o++)n[o].setAttribute(t,i)},RemoveAttribute:function(e,t){for(var i=document.querySelectorAll(e),n=0;n<i.length;n++)i[n].removeAttribute(t)},SetChecked:function(e,t){for(var i=document.querySelectorAll(e),n=0;n<i.length;n++)i[n].checked=t},TongleAttribute:function(e,t,i){for(var n=document.querySelectorAll(t),o=0;o<n.length;o++)e.checked?n[o].setAttribute(i,""):n[o].removeAttribute(i)},RevertTongleAttribute:function(e,t,i){for(var n=document.querySelectorAll(t),o=0;o<n.length;o++)e.checked?n[o].removeAttribute(i):n[o].setAttribute(i,"")},TongleAttributeValue:function(e,t,i,n,o){for(var s=document.querySelectorAll(t),r=0;r<s.length;r++)s[r].setAttribute(i,e.checked?o:n)},TongleValue:function(e,t,i,n,o){for(var s=document.querySelectorAll(t),r=0;r<s.length;r++)n&&o?s[r].dataset[i]=e.checked?o:n:void 0!==s[r].dataset[i]?delete s[r].dataset[i]:s[r].dataset[i]=e.checked?o:n},BindingAjaxForm:function(e){var t,i,n=e?[document.querySelector(e)]:document.querySelectorAll("form[data-ajax=true]");for(i=0;i<n.length;i++)if(n[i]){var o="";if(n[i].classList.contains("hide")){var s=n[i].dataset.ajaxUpdate;o="Site.AddClass('"+s+"', '_ajax-process');"}var r=null!=n[i].dataset.isBinding&&n[i].dataset.isBinding||!1;if(!r){t=n[i].dataset.ajaxBegin;var a=!!n[i].dataset.blazy;null==t&&n[i].setAttribute("data-ajax-begin",o+"Site.DisableSubmitButton(this);"),n[i].dataset.showAjaxLoading&&n[i].setAttribute("data-ajax-loading","._z-ajax-loading"),t=n[i].dataset.ajaxComplete;var l=n[i].dataset.excuteCodeResult?"Site.ExcuteAjaxBcCodeResult(xhr);":"";null==t?n[i].setAttribute("data-ajax-complete","Site.BindingAjaxForm('#"+n[i].id+"');Site.EnableSubmitButton(this);"+l+(a?"Site.bLazy.revalidate();":"")):n[i].setAttribute("data-ajax-complete","Site.BindingAjaxForm('#"+n[i].id+"');Site.EnableSubmitButton(this);"+l+(a?"Site.bLazy.revalidate();":"")+t),n[i].dataset.showAjaxFailure&&(t=n[i].dataset.ajaxFailure,null==t?n[i].setAttribute("data-ajax-failure","Site.NotifyFormFailed('LI AJ01','Gi thng tin tht bi')"):n[i].setAttribute("data-ajax-failure","Site.NotifyFormFailed('LI AJ01','Gi thng tin tht bi');"+t)),n[i].dataset.isBinding=!0}}},BindingLazyFormFload:function(){for(var e=document.querySelectorAll("form[data-lazy-form=True]"),t=0;t<e.length;t++){var i=e[t].querySelector("[name='submitType']");i.click()}},BindingSelectAutoSubmit:function(){for(var e=document.querySelectorAll("select[data-auto-submit=True],input[type=radio][data-auto-submit=True],input[type=checkbox][data-auto-submit=True]"),t=0;t<e.length;t++)e[t].addEventListener("change",function(e){if((e.target.dataset.autoSubmitTwoWay||e.target.checked!==!1)&&e.target.form){var t=e.target.form.querySelector("[data-auto-submit-button=True]");t&&e.target!==t?t.click():e.target.form.submit()}})},ReValidateForm:function(e){if(e)for(var t=0;t<e.length;t++){var i=$(e[t]);i.validate().resetForm(),i.removeData("validator"),i.removeData("unobtrusiveValidation"),$.validator.unobtrusive.parse(i);for(var n=e[t].querySelectorAll(".input-validation-error"),o=0;o<n.length;o++)n[o].classList.remove("input-validation-error");i.find("[data-valmsg-summary=true]").removeClass("validation-summary-errors").removeClass("input-validation-error").addClass("validation-summary-valid").find("ul").empty(),i.find("[data-valmsg-replace]").removeClass("field-validation-error").removeClass("input-validation-error").addClass("field-validation-valid").empty()}else $.validator.unobtrusive.parse(document)},BeLazyRevalidate:function(){this.bLazy.revalidate()},ReValidateElement:function(e){$.validator.unobtrusive.parse(e);var t=$(e).first().closest("form"),i=t.data("unobtrusiveValidation"),n=t.validate();$.each(i.options.rules,function(e,t){if(void 0==n.settings.rules[e]){var o={};$.extend(o,t),o.messages=i.options.messages[e],$("[name='"+e+"']").rules("add",o)}else $.each(t,function(t,o){if(void 0==n.settings.rules[e][t]){var s={};s[t]=o,s.messages=i.options.messages[e][t],$("[name='"+e+"']").rules("add",s)}})})},BindingRemoveItems:function(){for(var e=document.querySelectorAll("[data-onclick-remove-item]"),t=0;t<e.length;t++)e[t].addEventListener("click",function(e){for(var t=e.target.dataset.onclickRemoveItem,i=document.querySelectorAll(t),n=0;n<i.length;n++)i[n].remove();var o=new Function(e.target.dataset.callback);return o()})},LoadAjaxReturn:function(e,t,i){if("success"===t){if(Site.Notify(e.title,e.text,e.hide,e.type,e.promptDefault,e.buttonCloser),e.jsAction){var n=new Function(e.jsAction);return n()}}else new PNotify({title:"CNH BO!",text:"Gi d liu ti server tht bi",type:"error"});return null},SetFocus:function(e){var t=document.querySelector(e);t&&t.focus()},BindingCheckbox:function(){for(var e=document.querySelectorAll("[data-class-name-checked]"),t=0;t<e.length;t++)e[t].addEventListener("change",function(e){for(var t=e.target.dataset.classNameChecked,i=e.target.dataset.classNameUnchecked,n=e.target.dataset.elementTargetSelector,o=document.querySelectorAll(n),s=0;s<o.length;s++)o[s].className=e.target.checked?t:i})},InputNumberMaxValue:function(){for(var e=document.querySelectorAll("input[data-max-value]"),t=0;t<e.length;t++)e[t].addEventListener("keyup",function(e){+e.target.value>+e.target.dataset.maxValue&&(e.target.value=e.target.dataset.maxValue)})},ChangeDisabledState:function(e,t){for(var i=document.querySelectorAll(e),n=0;n<i.length;n++)i[n].disabled=!t},TongleActive:function(e){e.classList.toggle("active")},TongleClass:function(e,t){for(var i=document.querySelectorAll(e),n=0;n<i.length;n++)i[n].classList.toggle(t)},TongleClassElement:function(e,t){e.classList.toggle(t)},TongleClass2:function(e,t,i){for(var n=document.querySelectorAll(e),o=0;o<n.length;o++)n[o].classList.contains(t)?(n[o].classList.remove(t),n[o].classList.add(i)):n[o].classList.contains(i)&&(n[o].classList.remove(i),n[o].classList.add(t))},RemoveClass:function(e,t,i){for(var n=document.querySelectorAll(e),o=0;o<n.length;o++)n[o]!==i&&n[o].classList.remove(t)},AddClass:function(e,t){for(var i=document.querySelectorAll(e),n=0;n<i.length;n++)i[n].classList.add(t)},RemoveClassElement:function(e,t){e.classList.remove(t)},AddClassElement:function(e,t){e.classList.add(t)},LoadLayout:function(){document.getElementsByTagName("body")[0].classList.remove("pending"),document.getElementsByTagName("body")[0].classList.add("complete");for(var e=document.getElementsByName("Language"),t=0;t<e.length;t++)e[t].addEventListener("click",function(){var e=document.getElementById("selectLanguage");e.submit()})},HtmlToElement:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=document.createElement("template");i.innerHTML=e;for(var n=[],o=0;o<i.content.childNodes.length;o++)if("#text"===i.content.childNodes[o].nodeName){var s=document.createTextNode(i.content.childNodes[o].textContent);t?s.textContent.trim()&&n.push(s):n.push(s)}else n.push(i.content.childNodes[o]);return n},Extend:function(e){e=e||{},Site.size=e.size||300,Site.page=e.page||1,Site.step=e.step||3},MomentTime:function(){for(var e=document.querySelectorAll("[data-moment-time]"),t=0;t<e.length;t++)e[t].innerHTML=window.moment(e[t].dataset.momentTime).fromNow()},BindingScrollModelBox:function(){},ExecuteFunctionByName:function(e,t){var i=Array.prototype.slice.call(arguments,2);return t[e].apply(t,i)},ExcuteAjaxBcCodeResult:function ExcuteAjaxBcCodeResult(xhr){var obj=xhr.responseJSON;obj&&obj.pNotify&&eval(obj.pNotify),obj&&obj.jsScript&&eval(obj.jsScript)},ShowWindowLoadding:function(){var e=document.querySelector("._z-ajax-loading");e.classList.add("show")},HideWindowLoadding:function(){var e=document.querySelector("._z-ajax-loading");e.classList.remove("show")},Init:function(e){WNumbHelper.Init(),Site.Extend(e),Site.LoadLayout(),Site.ConsumeAlert(),Site.InnitPopup(),Site.InnitAutoHide(),Site.InnitAutoShow(),Site.BindingCheckbox(),Site.BindingAjaxForm(),Site.BindingLazyFormFload(),Site.BindingScrollModelBox()}},init=function(){PNotify.prototype.options.delay=1500,Site.Init({size:30,page:1,step:3}),Site.bLazy=new Blazy({success:function(e){console.log("Element loaded: ",e.nodeName)},error:function(e,t){e.removeAttribute("src"),"missing"===t?(e.src="https://www.baocat.vn",console.log("missing")):"invalid"===t&&(console.log("invalid"),e.src="https://www.baocat.vn")}})};document.addEventListener("DOMContentLoaded",init,!1),reponsiveMenu();var AjaxRequest={SendFormData:function(e,t,i,n,o){var s=new XMLHttpRequest;s.open(e,t,!0),s.onreadystatechange=function(e){try{s.readyState===XMLHttpRequest.DONE&&s.status>=200&&s.status<300&&n(s.responseText,s.status)}catch(e){o&&o(e),console.log(e),alert("There was an error processing your request. Please try again later.",!1)}},s.send(i)},SendRequestGetJson:function(e,t,i,n){var o=new XMLHttpRequest,s=new FormData;for(name in i)s.append(name,i[name]);o.open(e,t,!0),o.onreadystatechange=function(e){try{o.readyState===XMLHttpRequest.DONE&&o.status>=200&&o.status<300&&n(o.responseText,o.status)}catch(e){console.log(e),alert("There was an error processing your request. Please try again later.",!1)}},o.send(s)}},ServerSentEvents=function(){var e=function(){this.EventSource=new EventSource(this.Url),this.EventSource.onopen=this.OnOpenCallback,this.EventSource.onerror=this.OnErrorCallback;var e=this;this.EventSource.onmessage=function(t){e.OnMessage(t),"CLOSE"===t.id&&(console.log("CLOSE"),this.source.close())}},t=function(){this.EventSource.close()},i=function(e,t,i,n){this.Url=e,this.OnOpenCallback=t||function(){console.log("-- CONNECTION ESTABLISHED : "+e+"--")},this.OnErrorCallback=i||function(){console.log("-- CONNECTION FAILED : "+e+"--")},this.OnMessage=n||function(e){console.log('SSE EVENT: { id: "'+e.id+'", data: "'+e.data+'" }')}};return{init:i,run:e,stop:t}},disableLoadingMap=!1,leadSse=null;document.addEventListener("DOMContentLoaded",function(){});