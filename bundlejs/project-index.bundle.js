"use strict";function ReBindingView(){Site.ReValidateForm(document.querySelectorAll("[data-form-submit-lead]")),LoadCleave(),LoadSwiperAgent(),AddEventDropdownList()}function AddEventDropdownList(){var e=document.querySelector("[name='LeadDataModel.RoomMin']"),t=document.querySelector("[name='LeadDataModel.RoomMax']");UpdateEventCuple(e,t);var a=document.querySelector("[name='LeadDataModel.RoadMin']"),n=document.querySelector("[name='LeadDataModel.RoadMax']");UpdateEventCuple(a,n);var r=document.querySelector("[name='LeadDataModel.SizeMin']"),o=document.querySelector("[name='LeadDataModel.SizeMax']");UpdateEventCuple(r,o);var i=document.querySelector("[name='LeadDataModel.PriceMin']"),d=document.querySelector("[name='LeadDataModel.PriceMax']");UpdateEventCuple(i,d)}function UpdateEventCuple(e,t){e&&t&&e.addEventListener("change",function(e){for(var a=+e.target.value,n=t.querySelectorAll("option"),r=0;r<n.length;r++)+n[r].value<a?n[r].setAttribute("disabled",""):n[r].removeAttribute("disabled");a>t.value&&(t.selectedIndex=0)})}function LoadSwiperAgent(){var e=document.querySelector("._p-SliderAgentContactForm .swiper-container");e&&(swiperAgent=new Swiper(e,{paginationType:"fraction",effect:"flip",initialSlide:+e.dataset.activeSlide,grabCursor:!0,loop:!0,navigation:{nextEl:".fa-angle-left",prevEl:".fa-angle-right"},pagination:{el:"._p-paging"}}),swiperAgent.on("slideChange",function(){var e=swiperAgent.slides[swiperAgent.activeIndex],t=document.querySelector("[name='LeadDataModel.ReceiAgentId']");t.value=e.dataset.agentId;var a=e.dataset.agentImage,n=document.querySelector("[data-agent-thank-image]");n&&n.setAttribute("src",a);var r=e.dataset.agentName,o=document.querySelector("[data-agent-thank-name]");o&&(o.innerText=r),UpdateBtn()}),UpdateBtn())}function UpdateBtn(){var e=swiperAgent.slides[swiperAgent.activeIndex],t=document.querySelector("._p-SliderAgentContactForm [data-btn]");+e.dataset.curentLead>+e.dataset.maxLead?t.setAttribute("disabled","disabled"):t.removeAttribute("disabled")}function LoadCleave(){for(var e=document.querySelectorAll("[name='LeadDataModel.PhoneNumber']"),t=0;t<e.length;t++){new Cleave(e[t],{numericOnly:!0,delimiters:[" ",".",".","."],prefix:"+84",blocks:[3,3,3,5]})}}!function(e){function t(e,t){for(var a=window,n=(e||"").split(".");a&&n.length;)a=a[n.shift()];return"function"==typeof a?a:(t.push(e),Function.constructor.apply(null,t))}function a(e){return"GET"===e||"POST"===e}function n(e,t){a(t)||e.setRequestHeader("X-HTTP-Method-Override",t)}function r(t,a,n){var r;a&&void 0!==a.isUpdateLayout&&!a.isUpdateLayout||n.indexOf("application/x-javascript")===-1&&(r=(t.getAttribute("data-ajax-mode")||"").toUpperCase(),e(t.getAttribute("data-ajax-update")).each(function(t,n){var o;switch(r){case"BEFORE":o=n.firstChild,e("<div />").html(a).contents().each(function(){n.insertBefore(this,o)});break;case"AFTER":e("<div />").html(a).contents().each(function(){n.appendChild(this)});break;case"REPLACE-WITH":e(n).replaceWith(a);break;default:e(n).html(a)}}))}function o(o,i){var d,u,c,l;d=o.getAttribute("data-ajax-confirm"),d&&!window.confirm(d)||(u=e(o.getAttribute("data-ajax-loading")),l=parseInt(o.getAttribute("data-ajax-loading-duration"),10)||0,e.extend(i,{type:o.getAttribute("data-ajax-method")||void 0,url:o.getAttribute("data-ajax-url")||void 0,cache:!!o.getAttribute("data-ajax-cache"),beforeSend:function(e){var a;return n(e,c),a=t(o.getAttribute("data-ajax-begin"),["xhr"]).apply(o,arguments),a!==!1&&u.show(l),a},complete:function(){u.hide(l),t(o.getAttribute("data-ajax-complete"),["xhr","status"]).apply(o,arguments),console.log("complete")},success:function(e,a,n){r(o,e,n.getResponseHeader("Content-Type")||"text/html"),t(o.getAttribute("data-ajax-success"),["data","status","xhr"]).apply(o,arguments),console.log("success")},error:function(){t(o.getAttribute("data-ajax-failure"),["xhr","status","error"]).apply(o,arguments),console.log("error")}}),i.data.push({name:"X-Requested-With",value:"XMLHttpRequest"}),c=i.type.toUpperCase(),a(c)||(i.type="POST",i.data.push({name:"X-HTTP-Method-Override",value:c})),e.ajax(i))}function i(t){var a=e(t).data(c);return!a||!a.validate||a.validate()}var d="unobtrusiveAjaxClick",u="unobtrusiveAjaxClickTarget",c="unobtrusiveValidation";e(document).on("click","a[data-ajax=true]",function(e){e.preventDefault(),o(this,{url:this.href,type:"GET",data:[]})}),e(document).on("click","form[data-ajax=true] input[type=image]",function(t){var a=t.target.name,n=e(t.target),r=e(n.parents("form")[0]),o=n.offset();r.data(d,[{name:a+".x",value:Math.round(t.pageX-o.left)},{name:a+".y",value:Math.round(t.pageY-o.top)}]),setTimeout(function(){r.removeData(d)},0)}),e(document).on("click","form[data-ajax=true] :submit",function(t){var a=t.currentTarget.name,n=e(t.target),r=e(n.parents("form")[0]);r.data(d,a?[{name:a,value:t.currentTarget.value}]:[]),r.data(u,n),setTimeout(function(){r.removeData(d),r.removeData(u)},0)}),e(document).on("submit","form[data-ajax=true]",function(t){var a=e(this).data(d)||[],n=e(this).data(u),r=n&&n.hasClass("cancel");t.preventDefault(),(r||i(this))&&o(this,{url:this.action,type:this.method||"GET",data:a.concat(e(this).serializeArray())})})}(jQuery);var swiperAgent=null;document.addEventListener("DOMContentLoaded",function(){});