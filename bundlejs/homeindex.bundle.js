"use strict";function redirectToMapsearch(e,t){if(!e)return Site.Notify("LỖI","Dữ liệu tìm kiếm không có giá trị",!0,"error",null,!0),!1;var a=document.querySelector('._search_container [type="radio"]:checked'),n=SeoUrl.MapSearchUrl(a.dataset.propertyRefix,e,t);return window.location.href=n,!1}function innit(){btnRedirectMapsearch=document.getElementById("btnRedirectMapsearch"),frmSubmit=document.getElementById("frmSubmit"),txtSearch=document.getElementById("txtSearch");var e=LocalStorageHelper.Get(LocalStogeEnum.SELECTED_LOCATION_STORAGE_NAME);fuzzyComplete=new BcFuzzySearch,fuzzyComplete.Init("#txtSearch",null!=e?e.id:null,null!=e?e.address:"","address","id",LocalStogeEnum.ALL_PLACES,bindingDataCompleteCallBack,bindingDataFailedCallback,selectionCallback,"#placeId",10,3),e&&(txtSearch.value=e.address,placeId.value=e.id),btnRedirectMapsearch.addEventListener("click",function(e){Site.DisableSubmitButton(frmSubmit),fuzzyComplete.selectedValue?(LocalStorageHelper.Save(LocalStogeEnum.SELECTED_LOCATION_STORAGE_NAME,{id:fuzzyComplete.selectedValue,address:fuzzyComplete.selectedText}),redirectToMapsearch(fuzzyComplete.selectedText,fuzzyComplete.selectedValue)):redirectToMapsearch(txtSearch.value)})}function bindingDataCompleteCallBack(e,t){}function bindingDataFailedCallback(e,t){Site.NotifyFormFailed("LỖI","Lấy dự liệu thất bại. Vui lòng làm mới lại trang. Hoặc thông báo cho chugn1 tôi biết quá webmaster@baocat.vn")}function selectionCallback(e,t,a){console.log(a),t?(LocalStorageHelper.Save(LocalStogeEnum.SELECTED_LOCATION_STORAGE_NAME,{id:a,address:t.item.display}),frmSubmit.placeId.value=a,redirectToMapsearch(t.item.display,a)):frmSubmit.placeId.value=null}function loadGallaryProject(){var e=new Swiper(".gallery-top",{nextButton:".swiper-button-next",prevButton:".swiper-button-prev",spaceBetween:0,autoplay:2e4,speed:400,preloadImages:!1,lazy:!0}),t=new Swiper(".gallery-thumbs",{spaceBetween:5,centeredSlides:!0,slidesPerView:"auto",touchRatio:.2,slideToClickedSlide:!0});e.controller.control=t,t.controller.control=e}function loadGallaryNews(){new Swiper(".news-container",{slidesPerView:2,centeredSlides:!0,freeMode:!0,paginationClickable:!0,spaceBetween:30,loop:!0,breakpoints:{800:{slidesPerView:1,spaceBetween:10}},pagination:{el:"._p-paging"}})}!function(e){function t(e,t){for(var a=window,n=(e||"").split(".");a&&n.length;)a=a[n.shift()];return"function"==typeof a?a:(t.push(e),Function.constructor.apply(null,t))}function a(e){return"GET"===e||"POST"===e}function n(e,t){a(t)||e.setRequestHeader("X-HTTP-Method-Override",t)}function r(t,a,n){var r;a&&void 0!==a.isUpdateLayout&&!a.isUpdateLayout||n.indexOf("application/x-javascript")===-1&&(r=(t.getAttribute("data-ajax-mode")||"").toUpperCase(),e(t.getAttribute("data-ajax-update")).each(function(t,n){var i;switch(r){case"BEFORE":i=n.firstChild,e("<div />").html(a).contents().each(function(){n.insertBefore(this,i)});break;case"AFTER":e("<div />").html(a).contents().each(function(){n.appendChild(this)});break;case"REPLACE-WITH":e(n).replaceWith(a);break;default:e(n).html(a)}}))}function i(i,o){var l,c,u,d;l=i.getAttribute("data-ajax-confirm"),l&&!window.confirm(l)||(c=e(i.getAttribute("data-ajax-loading")),d=parseInt(i.getAttribute("data-ajax-loading-duration"),10)||0,e.extend(o,{type:i.getAttribute("data-ajax-method")||void 0,url:i.getAttribute("data-ajax-url")||void 0,cache:!!i.getAttribute("data-ajax-cache"),beforeSend:function(e){var a;return n(e,u),a=t(i.getAttribute("data-ajax-begin"),["xhr"]).apply(i,arguments),a!==!1&&c.show(d),a},complete:function(){c.hide(d),t(i.getAttribute("data-ajax-complete"),["xhr","status"]).apply(i,arguments),console.log("complete")},success:function(e,a,n){r(i,e,n.getResponseHeader("Content-Type")||"text/html"),t(i.getAttribute("data-ajax-success"),["data","status","xhr"]).apply(i,arguments),console.log("success")},error:function(){t(i.getAttribute("data-ajax-failure"),["xhr","status","error"]).apply(i,arguments),console.log("error")}}),o.data.push({name:"X-Requested-With",value:"XMLHttpRequest"}),u=o.type.toUpperCase(),a(u)||(o.type="POST",o.data.push({name:"X-HTTP-Method-Override",value:u})),e.ajax(o))}function o(t){var a=e(t).data(u);return!a||!a.validate||a.validate()}var l="unobtrusiveAjaxClick",c="unobtrusiveAjaxClickTarget",u="unobtrusiveValidation";e(document).on("click","a[data-ajax=true]",function(e){e.preventDefault(),i(this,{url:this.href,type:"GET",data:[]})}),e(document).on("click","form[data-ajax=true] input[type=image]",function(t){var a=t.target.name,n=e(t.target),r=e(n.parents("form")[0]),i=n.offset();r.data(l,[{name:a+".x",value:Math.round(t.pageX-i.left)},{name:a+".y",value:Math.round(t.pageY-i.top)}]),setTimeout(function(){r.removeData(l)},0)}),e(document).on("click","form[data-ajax=true] :submit",function(t){var a=t.currentTarget.name,n=e(t.target),r=e(n.parents("form")[0]);r.data(l,a?[{name:a,value:t.currentTarget.value}]:[]),r.data(c,n),setTimeout(function(){r.removeData(l),r.removeData(c)},0)}),e(document).on("submit","form[data-ajax=true]",function(t){var a=e(this).data(l)||[],n=e(this).data(c),r=n&&n.hasClass("cancel");t.preventDefault(),(r||o(this))&&i(this,{url:this.action,type:this.method||"GET",data:a.concat(e(this).serializeArray())})})}(jQuery);var btnRedirectMapsearch,frmSubmit,txtSearch,fuzzyComplete;document.addEventListener("DOMContentLoaded",function(){innit(),loadGallaryProject(),loadGallaryNews(),Site.MomentTime(),Site.Notify("THÔNG BÁO","Website đang trong giai đoạn chạy thử nghiệm",!1)});